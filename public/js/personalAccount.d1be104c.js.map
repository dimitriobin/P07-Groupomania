{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/PersonalAccount.vue?0ade","webpack:///./src/components/UserForm.vue?149d","webpack:///src/components/UserForm.vue","webpack:///./src/components/UserForm.vue?bedd","webpack:///./src/components/UserForm.vue","webpack:///src/views/PersonalAccount.vue","webpack:///./src/views/PersonalAccount.vue?6795","webpack:///./src/views/PersonalAccount.vue","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_l","subject","key","id","showAllSubjects","on","$event","showMoreSubjects","oneUser","preventDefault","handleUpdateRgpd","directives","name","rawName","value","rgpdCheckboxes","expression","domProps","Array","isArray","restricted","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","concat","slice","updateSuccess","contactable","shareWithPartners","_e","modifiers","handleDelete","$bvModal","hide","handleExport","staticRenderFns","ref","scopedSlots","_u","fn","handleSubmit","editInfos","editPass","_s","userData","user_name","email","previewUrl","birthdate","handleUpdateInfos","valid","errors","model","user","callback","showPreview","userIsMajor","parentEmail","handleUpdatePassword","props","data","oldPassword","newPassword","confirmation","image_url","components","ValidationProvider","ValidationObserver","computed","now","diff","methods","URL","createObjectURL","file","append","updateUser","userId","updatePassword","mounted","component","Subject","UserForm","exportedDataURL","subjectsNotFollowed","allSubjects","filter","fetchAllSubjects","deleteUser","exportUser","getFollows","fetchUser","isRegExp","module","exports","it","TypeError","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn"],"mappings":"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","file":"js/personalAccount.d1be104c.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{attrs:{\"id\":\"PersonalAccount\"}},[_c('h1',{staticClass:\"h2 text-center mb-4 sr-only\"},[_vm._v(\"Vos données personnelles\")]),_c('b-tabs',{attrs:{\"content-class\":\"p-md-5\",\"pills\":\"\",\"fill\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"Sujets\"}},[_c('h2',{staticClass:\"h4 my-5\"},[_vm._v(\"Vous suivez ces sujets\")]),_c('b-list-group',{attrs:{\"flush\":\"\"}},[_vm._l((_vm.allFollows),function(subject){return _c('Subject',{key:subject.id,attrs:{\"subject\":subject}})}),(!_vm.showAllSubjects)?_c('b-button',{staticClass:\"mt-4\",attrs:{\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.showMoreSubjects()}}},[_vm._v(\"Voir tous les sujets\")]):_vm._l((_vm.subjectsNotFollowed),function(subject){return _c('Subject',{key:subject.id,attrs:{\"subject\":subject}})})],2)],1),_c('b-tab',{attrs:{\"title\":\"Profile\",\"lazy\":\"\"}},[_c('UserForm',{attrs:{\"userData\":_vm.oneUser}})],1),_c('b-tab',{attrs:{\"title\":\"Privacy\"}},[_c('b-form',{staticClass:\"mt-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleUpdateRgpd()}}},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center flex-row-reverse justify-content-end\",attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"ml-2 my-0\",attrs:{\"for\":\"restricted\"}},[_vm._v(\" Restreindre l'utilisation de mes données\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rgpdCheckboxes.restricted),expression:\"rgpdCheckboxes.restricted\"}],attrs:{\"id\":\"restricted\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rgpdCheckboxes.restricted)?_vm._i(_vm.rgpdCheckboxes.restricted,null)>-1:(_vm.rgpdCheckboxes.restricted)},on:{\"change\":[function($event){var $$a=_vm.rgpdCheckboxes.restricted,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.rgpdCheckboxes, \"restricted\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.rgpdCheckboxes, \"restricted\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.rgpdCheckboxes, \"restricted\", $$c)}},function($event){_vm.updateSuccess = false}]}})]),_c('b-col',{staticClass:\"d-flex align-items-center flex-row-reverse justify-content-end\",attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"ml-2 my-0\",attrs:{\"for\":\"contactable\"}},[_vm._v(\" Etre contacté par des partenaires commerciaux\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rgpdCheckboxes.contactable),expression:\"rgpdCheckboxes.contactable\"}],attrs:{\"id\":\"contactable\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rgpdCheckboxes.contactable)?_vm._i(_vm.rgpdCheckboxes.contactable,null)>-1:(_vm.rgpdCheckboxes.contactable)},on:{\"change\":[function($event){var $$a=_vm.rgpdCheckboxes.contactable,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.rgpdCheckboxes, \"contactable\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.rgpdCheckboxes, \"contactable\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.rgpdCheckboxes, \"contactable\", $$c)}},function($event){_vm.updateSuccess = false}]}})]),_c('b-col',{staticClass:\"d-flex align-items-center flex-row-reverse justify-content-end\",attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"ml-2 my-0\",attrs:{\"for\":\"shareWithPartners\"}},[_vm._v(\" Accepter que les données soient transmises a des partenaires\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rgpdCheckboxes.shareWithPartners),expression:\"rgpdCheckboxes.shareWithPartners\"}],attrs:{\"id\":\"shareWithPartners\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rgpdCheckboxes.shareWithPartners)?_vm._i(_vm.rgpdCheckboxes.shareWithPartners,null)>-1:(_vm.rgpdCheckboxes.shareWithPartners)},on:{\"change\":[function($event){var $$a=_vm.rgpdCheckboxes.shareWithPartners,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.rgpdCheckboxes, \"shareWithPartners\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.rgpdCheckboxes, \"shareWithPartners\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.rgpdCheckboxes, \"shareWithPartners\", $$c)}},function($event){_vm.updateSuccess = false}]}})])],1),(_vm.updateSuccess)?_c('p',{staticClass:\"text-success mt-2 mb-0\"},[_vm._v(\" Les modifications ont bien été prises en compte \")]):_vm._e(),_c('b-button',{staticClass:\"my-3\",attrs:{\"id\":\"submitRgpd\",\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Envoyer\")])],1),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.supressAccount\",modifiers:{\"supressAccount\":true}}],staticClass:\"text-left\",attrs:{\"type\":\"button\",\"variant\":\"link\"}},[_vm._v(\" Supprimer mon compte \")]),_c('b-modal',{attrs:{\"id\":\"supressAccount\",\"title\":\"BootstrapVue\",\"centered\":\"\",\"hide-header\":\"\",\"hide-footer\":\"\",\"body-class\":\"p-4 d-flex flex-column align-items-center\"}},[_c('p',{staticClass:\"my-4 text-center\"},[_vm._v(\" Vous êtes sur le point de supprimer votre compte de manière définitive. \")]),_c('b-button',{staticClass:\"w-100 mb-2\",attrs:{\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.handleDelete()}}},[_vm._v(\" Supprimer votre compte \")]),_c('b-button',{staticClass:\"w-100\",attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.$bvModal.hide('supressAccount')}}},[_vm._v(\" Annuler \")])],1),_c('b-button',{staticClass:\"text-left\",attrs:{\"type\":\"button\",\"variant\":\"link\"},on:{\"click\":function($event){return _vm.handleExport()}}},[_vm._v(\" Télécharger les données de votre compte \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{ref:\"registerObserver\",attrs:{\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('h2',{staticClass:\"text-center my-5 h4\"},[_vm._v(\"Vos informations personnelles\")]),(!_vm.editInfos && !_vm.editPass)?_c('div',[_c('div',{staticClass:\"d-flex align-items-center mb-4\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Pseudo\")]),(!_vm.editInfos)?_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(_vm.userData.user_name))]):_vm._e()]),_c('div',{staticClass:\"d-flex align-items-center mb-4\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Email\")]),(!_vm.editInfos)?_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(_vm.userData.email))]):_vm._e()]),_c('div',{staticClass:\"d-flex align-items-center mb-4\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Photo de profil\")]),_c('b-img',{staticClass:\"rounded-circle\",attrs:{\"src\":_vm.previewUrl,\"alt\":\"Votre photo de profil\",\"width\":\"100\",\"height\":\"100\"}})],1),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Date de naissance\")]),(!_vm.editInfos)?_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(_vm.userData.birthdate))]):_vm._e()])]):_vm._e(),(_vm.editInfos)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.handleUpdateInfos)}}},[_c('ValidationProvider',{attrs:{\"name\":\"email\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userMail-group\",\"label\":\"Email :\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userMail\"}},[_c('b-form-input',{attrs:{\"id\":\"userMail\",\"type\":\"text\",\"placeholder\":_vm.userData.email,\"autofocus\":\"\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"pseudo\",\"rules\":\"alpha_num\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userName-group\",\"label\":\"Pseudo:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userName\"}},[_c('b-form-input',{attrs:{\"id\":\"userName\",\"type\":\"text\",\"placeholder\":_vm.userData.user_name,\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.user_name),callback:function ($$v) {_vm.$set(_vm.user, \"user_name\", $$v)},expression:\"user.user_name\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"photo de profil\",\"rules\":\"image\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userImage-group\",\"label\":\"Photo de profil:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userImage\"}},[(_vm.editInfos)?_c('b-form-file',{attrs:{\"id\":\"userImage\",\"browse-text\":\"Parcourir\",\"placeholder\":\"Faites glisser ou sélectionnez une photo\",\"accept\":\"image/*\",\"state\":errors[0] ? false : (valid ? true : null)},on:{\"change\":function($event){return _vm.showPreview($event)}},model:{value:(_vm.user.image_url),callback:function ($$v) {_vm.$set(_vm.user, \"image_url\", $$v)},expression:\"user.image_url\"}}):_vm._e(),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1),_c('b-img',{staticClass:\"d-block mx-auto\",attrs:{\"src\":_vm.previewUrl,\"alt\":\"Votre photo de profil\",\"width\":\"300\",\"height\":\"300\",\"fluid\":\"\"}})]}}],null,true)}),(_vm.editInfos && !_vm.userIsMajor)?_c('ValidationProvider',{attrs:{\"name\":\"email des parents\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userParentMail-group\",\"label\":\"Email des responsables:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userParentMail\"}},[_c('b-form-input',{attrs:{\"id\":\"userParentMail\",\"type\":\"email\",\"placeholder\":_vm.userData.parentEmail,\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.parentEmail),callback:function ($$v) {_vm.$set(_vm.user, \"parentEmail\", $$v)},expression:\"user.parentEmail\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}):_vm._e(),(_vm.editInfos)?_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"button\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){_vm.editInfos = false}}},[_vm._v(\"Annuler\")]):_vm._e(),(_vm.editInfos)?_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Envoyer\")]):_vm._e()],1):_vm._e(),(_vm.editPass)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.handleUpdatePassword)}}},[_c('ValidationProvider',{attrs:{\"name\":\"oldMdp\",\"rules\":\"required|strongPassword\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"oldUserPass-group\",\"label\":\"Ancien mot de passe:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"oldUserPass\"}},[_c('b-form-input',{attrs:{\"id\":\"oldUserPass\",\"name\":\"ancien mot de passe\",\"type\":\"password\",\"trim\":\"\",\"placeholder\":\"*********************\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.oldPassword),callback:function ($$v) {_vm.$set(_vm.user, \"oldPassword\", $$v)},expression:\"user.oldPassword\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"newPassword\",\"vid\":\"mdp\",\"rules\":\"required|strongPassword\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"newUserPass-group\",\"label\":\"Nouveau mot de passe:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"newUserPass\"}},[_c('b-form-input',{attrs:{\"id\":\"newUserPass\",\"type\":\"password\",\"placeholder\":\"*********************\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.newPassword),callback:function ($$v) {_vm.$set(_vm.user, \"newPassword\", $$v)},expression:\"user.newPassword\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"confirmation du nouveau mot de passe\",\"rules\":\"confirmed:mdp\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userConfirmPass-group\",\"label\":\"Confirmation du mot de passe:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userConfirmPass\"}},[_c('b-form-input',{attrs:{\"id\":\"userConfirmPass\",\"type\":\"password\",\"placeholder\":\"*********************\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.confirmation),callback:function ($$v) {_vm.$set(_vm.user, \"confirmation\", $$v)},expression:\"user.confirmation\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"button\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){_vm.editPass = false}}},[_vm._v(\"Annuler\")]),_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Envoyer\")])],1):_vm._e(),(!_vm.editInfos && !_vm.editPass)?_c('b-button',{staticClass:\"mt-4 mr-2\",attrs:{\"type\":\"button\",\"variant\":\"dark\"},on:{\"click\":function($event){_vm.editInfos = true}}},[_vm._v(\"Modifier vos informations\")]):_vm._e(),(!_vm.editInfos && !_vm.editPass)?_c('b-button',{staticClass:\"mt-4\",attrs:{\"type\":\"button\",\"variant\":\"dark\"},on:{\"click\":function($event){_vm.editPass = true}}},[_vm._v(\"Modifier votre mot de passe\")]):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ValidationObserver\r\n    tag=\"div\"\r\n    ref=\"registerObserver\"\r\n    v-slot=\"{ handleSubmit }\">\r\n    <h2 class=\"text-center my-5 h4\">Vos informations personnelles</h2>\r\n    <div v-if=\"!editInfos && !editPass\">\r\n      <div class=\"d-flex align-items-center mb-4\">\r\n        <h3 class=\"h5 mr-4\">Pseudo</h3>\r\n        <p v-if=\"!editInfos\" class=\"m-0\">{{ userData.user_name }}</p>\r\n      </div>\r\n      <div class=\"d-flex align-items-center mb-4\">\r\n        <h3 class=\"h5 mr-4\">Email</h3>\r\n        <p v-if=\"!editInfos\" class=\"m-0\">{{ userData.email }}</p>\r\n      </div>\r\n      <div class=\"d-flex align-items-center mb-4\">\r\n        <h3 class=\"h5 mr-4\">Photo de profil</h3>\r\n          <b-img\r\n            :src=\"previewUrl\"\r\n            alt=\"Votre photo de profil\"\r\n            class=\"rounded-circle\"\r\n            width=\"100\"\r\n            height=\"100\"></b-img>\r\n      </div>\r\n      <div class=\"d-flex align-items-center\">\r\n        <h3 class=\"h5 mr-4\">Date de naissance</h3>\r\n        <p v-if=\"!editInfos\" class=\"m-0\">{{ userData.birthdate }}</p>\r\n      </div>\r\n    </div>\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <!-- ////////////////////////////////// INFOS FORM ////////////////////////////////// -->\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <b-form v-if=\"editInfos\" @submit.prevent=\"handleSubmit(handleUpdateInfos)\">\r\n<!-- ///////////////////////////////////EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"email\"\r\n        rules=\"email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userMail-group\"\r\n          label=\"Email :\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userMail\">\r\n          <b-form-input\r\n            v-model=\"user.email\"\r\n            id=\"userMail\"\r\n            type=\"text\"\r\n            :placeholder=\"userData.email\"\r\n            autofocus\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////USERNAME////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"pseudo\"\r\n        rules=\"alpha_num\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userName-group\"\r\n          label=\"Pseudo:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userName\">\r\n          <b-form-input\r\n            v-model=\"user.user_name\"\r\n            id=\"userName\"\r\n            type=\"text\"\r\n            :placeholder=\"userData.user_name\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////img////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"photo de profil\"\r\n        rules=\"image\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userImage-group\"\r\n          label=\"Photo de profil:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userImage\">\r\n          <b-form-file\r\n            v-if=\"editInfos\"\r\n            v-model=\"user.image_url\"\r\n            id=\"userImage\"\r\n            @change=\"showPreview($event)\"\r\n            browse-text=\"Parcourir\"\r\n            placeholder=\"Faites glisser ou sélectionnez une photo\"\r\n            accept=\"image/*\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-file>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-img\r\n          :src=\"previewUrl\"\r\n          alt=\"Votre photo de profil\"\r\n          width=\"300\"\r\n          height=\"300\"\r\n          fluid\r\n          class=\"d-block mx-auto\">\r\n        </b-img>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////PARENTS EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        v-if=\"editInfos && !userIsMajor\"\r\n        name=\"email des parents\"\r\n        rules=\"email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userParentMail-group\"\r\n          label=\"Email des responsables:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userParentMail\">\r\n          <b-form-input\r\n            v-model=\"user.parentEmail\"\r\n            id=\"userParentMail\"\r\n            type=\"email\"\r\n            :placeholder=\"userData.parentEmail\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n      </b-form-group>\r\n      </ValidationProvider>\r\n      <b-button\r\n        v-if=\"editInfos\"\r\n        type=\"button\"\r\n        variant=\"outline-danger\"\r\n        class=\"w-100 mt-4\"\r\n        @click=\"editInfos = false\">Annuler</b-button>\r\n      <b-button\r\n        v-if=\"editInfos\"\r\n        type=\"submit\"\r\n        variant=\"dark\"\r\n        class=\"w-100 mt-4\">Envoyer</b-button>\r\n    </b-form>\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <!-- ////////////////////////////////// PASSWORD FORM ////////////////////////////////// -->\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <b-form v-if=\"editPass\" @submit.prevent=\"handleSubmit(handleUpdatePassword)\">\r\n<!-- ///////////////////////////////////OLD PASSWORD////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"oldMdp\"\r\n        rules=\"required|strongPassword\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"oldUserPass-group\"\r\n          label=\"Ancien mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"oldUserPass\">\r\n          <b-form-input\r\n            id=\"oldUserPass\"\r\n            v-model=\"user.oldPassword\"\r\n            name=\"ancien mot de passe\"\r\n            type=\"password\"\r\n            trim\r\n            placeholder=\"*********************\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- //////////////////////////NEW PASSWORD//////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"newPassword\"\r\n        vid=\"mdp\"\r\n        rules=\"required|strongPassword\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"newUserPass-group\"\r\n          label=\"Nouveau mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"newUserPass\">\r\n          <b-form-input\r\n            id=\"newUserPass\"\r\n            v-model=\"user.newPassword\"\r\n            type=\"password\"\r\n            placeholder=\"*********************\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- //////////////////////////NEW PASSWORD CONFIRMATION//////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"confirmation du nouveau mot de passe\"\r\n        rules=\"confirmed:mdp\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userConfirmPass-group\"\r\n          label=\"Confirmation du mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userConfirmPass\">\r\n          <b-form-input\r\n            id=\"userConfirmPass\"\r\n            v-model=\"user.confirmation\"\r\n            type=\"password\"\r\n            placeholder=\"*********************\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n      <b-button\r\n        type=\"button\"\r\n        variant=\"outline-danger\"\r\n        class=\"w-100 mt-4\"\r\n        @click=\"editPass = false\">Annuler</b-button>\r\n      <b-button\r\n        type=\"submit\"\r\n        variant=\"dark\"\r\n        class=\"w-100 mt-4\">Envoyer</b-button>\r\n    </b-form>\r\n      <b-button\r\n        v-if=\"!editInfos && !editPass\"\r\n        type=\"button\"\r\n        variant=\"dark\"\r\n        class=\"mt-4 mr-2\"\r\n        @click=\"editInfos = true\">Modifier vos informations</b-button>\r\n      <b-button\r\n        v-if=\"!editInfos && !editPass\"\r\n        type=\"button\"\r\n        variant=\"dark\"\r\n        class=\"mt-4\"\r\n        @click=\"editPass = true\">Modifier votre mot de passe</b-button>\r\n  </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate';\r\nimport dayjs from 'dayjs';\r\nimport RelativeTime from 'dayjs/plugin/relativeTime';\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\ndayjs.extend(RelativeTime);\r\n\r\nexport default {\r\n  name: 'UserForm',\r\n  props: [\r\n    'userData',\r\n  ],\r\n  data() {\r\n    return {\r\n      editInfos: false,\r\n      editPass: false,\r\n      previewUrl: null,\r\n      user: {\r\n        email: '',\r\n        user_name: '',\r\n        oldPassword: '',\r\n        newPassword: '',\r\n        confirmation: '',\r\n        image_url: null,\r\n        birthdate: '',\r\n        parentEmail: '',\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userId', 'oneUser']),\r\n    userIsMajor() {\r\n      const now = dayjs();\r\n      const birthdate = dayjs(this.userData.birthdate);\r\n      return now.diff(birthdate, 'year') >= 18;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'updateUser',\r\n      'updatePassword',\r\n    ]),\r\n    showPreview(e) {\r\n      const file = e.target.files[0];\r\n      this.previewUrl = URL.createObjectURL(file);\r\n    },\r\n    handleUpdateInfos() {\r\n      const data = new FormData();\r\n      data.append('email', this.user.email);\r\n      data.append('user_name', this.user.user_name);\r\n      if (this.user.image_url) data.append('image_url', this.user.image_url);\r\n      this.updateUser({\r\n        id: this.userId,\r\n        data,\r\n      })\r\n        .then(() => {\r\n          this.editInfos = false;\r\n        });\r\n    },\r\n    handleUpdatePassword() {\r\n      const requestBody = {\r\n        oldPassword: this.user.oldPassword,\r\n        newPassword: this.user.confirmation,\r\n      };\r\n      this.updatePassword({ id: this.userId, requestBody })\r\n        .then(() => {\r\n          this.editPass = false;\r\n          this.user.oldPassword = '';\r\n          this.user.newPassword = '';\r\n          this.user.confirmation = '';\r\n        })\r\n        .catch((error) => {\r\n          // If some known errors are send by the back end, display them in the UI\r\n          switch (error) {\r\n            case 'Wrong password':\r\n              this.$refs.registerObserver.setErrors({\r\n                oldMdp: ['Mot de passe invalide'],\r\n              });\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          // for errors that aren't known, display in the console\r\n          return console.error(error);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.user = {\r\n      ...this.userData,\r\n      image_url: null,\r\n    };\r\n    this.previewUrl = this.userData.image_url;\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserForm.vue?vue&type=template&id=4746c29c&\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <main id=\"PersonalAccount\">\r\n    <h1 class=\"h2 text-center mb-4 sr-only\">Vos données personnelles</h1>\r\n    <b-tabs\r\n      content-class=\"p-md-5\"\r\n      pills\r\n      fill>\r\n      <!-- Subjects -->\r\n      <b-tab\r\n        title=\"Sujets\">\r\n        <h2 class=\"h4 my-5\">Vous suivez ces sujets</h2>\r\n        <b-list-group\r\n          flush>\r\n          <Subject\r\n            v-for=\"subject in allFollows\"\r\n            :key=\"subject.id\"\r\n            :subject=\"subject\" />\r\n          <b-button\r\n            v-if=\"!showAllSubjects\"\r\n            @click=\"showMoreSubjects()\"\r\n            class=\"mt-4\"\r\n            variant=\"outline-dark\">Voir tous les sujets</b-button>\r\n          <Subject\r\n            v-else\r\n            v-for=\"subject in subjectsNotFollowed\"\r\n            :key=\"subject.id\"\r\n            :subject=\"subject\" />\r\n        </b-list-group>\r\n      </b-tab>\r\n      <!-- Profile -->\r\n      <b-tab title=\"Profile\" lazy>\r\n        <UserForm :userData=\"oneUser\" />\r\n      </b-tab>\r\n      <!-- Privacy -->\r\n      <b-tab title=\"Privacy\">\r\n        <b-form @submit.prevent=\"handleUpdateRgpd()\" class=\"mt-4\">\r\n          <!-- <b-form-group description=\"rgpd\"> -->\r\n            <b-row>\r\n              <b-col\r\n                cols=\"12\"\r\n                class=\"d-flex align-items-center flex-row-reverse justify-content-end\">\r\n                <label\r\n                  for=\"restricted\"\r\n                  class=\"ml-2 my-0\">\r\n                  Restreindre l'utilisation de mes données</label>\r\n                <input\r\n                  v-model=\"rgpdCheckboxes.restricted\"\r\n                  @change=\"updateSuccess = false\"\r\n                  id=\"restricted\"\r\n                  type=\"checkbox\">\r\n              </b-col>\r\n              <b-col\r\n                cols=\"12\"\r\n                class=\"d-flex align-items-center flex-row-reverse justify-content-end\">\r\n                <label\r\n                  for=\"contactable\"\r\n                  class=\"ml-2 my-0\">\r\n                  Etre contacté par des partenaires commerciaux</label>\r\n                <input\r\n                  v-model=\"rgpdCheckboxes.contactable\"\r\n                  @change=\"updateSuccess = false\"\r\n                  id=\"contactable\"\r\n                  type=\"checkbox\">\r\n              </b-col>\r\n              <b-col\r\n                cols=\"12\"\r\n                class=\"d-flex align-items-center flex-row-reverse justify-content-end\">\r\n                <label\r\n                  for=\"shareWithPartners\"\r\n                  class=\"ml-2 my-0\">\r\n                  Accepter que les données soient transmises a des partenaires</label>\r\n                <input\r\n                  v-model=\"rgpdCheckboxes.shareWithPartners\"\r\n                  @change=\"updateSuccess = false\"\r\n                  id=\"shareWithPartners\"\r\n                  type=\"checkbox\">\r\n              </b-col>\r\n            </b-row>\r\n          <!-- </b-form-group> -->\r\n          <p v-if=\"updateSuccess\" class=\"text-success mt-2 mb-0\">\r\n            Les modifications ont bien été prises en compte\r\n          </p>\r\n          <b-button\r\n            id=\"submitRgpd\"\r\n            type=\"submit\"\r\n            variant=\"dark\"\r\n            class=\"my-3\">Envoyer</b-button>\r\n        </b-form>\r\n        <b-button\r\n          v-b-modal.supressAccount\r\n          type=\"button\"\r\n          class=\"text-left\"\r\n          variant=\"link\">\r\n          Supprimer mon compte\r\n        </b-button>\r\n          <b-modal\r\n            id=\"supressAccount\"\r\n            title=\"BootstrapVue\"\r\n            centered\r\n            hide-header\r\n            hide-footer\r\n            body-class=\"p-4 d-flex flex-column align-items-center\">\r\n            <p class=\"my-4 text-center\">\r\n              Vous êtes sur le point de supprimer votre compte de manière\r\n              définitive.\r\n            </p>\r\n            <b-button\r\n              @click=\"handleDelete()\"\r\n              variant=\"dark\"\r\n              class=\"w-100 mb-2\">\r\n              Supprimer votre compte\r\n            </b-button>\r\n            <b-button\r\n              @click=\"$bvModal.hide('supressAccount')\"\r\n              variant=\"outline-danger\"\r\n              class=\"w-100\">\r\n              Annuler\r\n            </b-button>\r\n          </b-modal>\r\n        <b-button\r\n          @click=\"handleExport()\"\r\n          type=\"button\"\r\n          class=\"text-left\"\r\n          variant=\"link\">\r\n          Télécharger les données de votre compte\r\n        </b-button>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport Subject from '@/components/Subject.vue';\r\nimport UserForm from '@/components/UserForm.vue';\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'PersonalAccount',\r\n  components: {\r\n    Subject,\r\n    UserForm,\r\n  },\r\n  data() {\r\n    return {\r\n      showAllSubjects: false,\r\n      rgpdCheckboxes: {\r\n        restricted: '',\r\n        contactable: '',\r\n        shareWithPartners: '',\r\n      },\r\n      updateSuccess: false,\r\n      exportedDataURL: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['oneUser', 'userId', 'allSubjects', 'allFollows']),\r\n    subjectsNotFollowed() {\r\n      const followsId = this.allFollows.map((follow) => follow.id);\r\n      return this.allSubjects.filter((subject) => !followsId.includes(subject.id));\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'fetchUser',\r\n      'fetchAllSubjects',\r\n      'getFollows',\r\n      'updateUser',\r\n      'deleteUser',\r\n      'logout',\r\n      'exportUser']),\r\n    showMoreSubjects() {\r\n      this.showAllSubjects = true;\r\n      this.fetchAllSubjects();\r\n    },\r\n    handleUpdateRgpd() {\r\n      this.updateSuccess = false;\r\n      this.updateUser({\r\n        id: this.userId,\r\n        data: this.rgpdCheckboxes,\r\n      })\r\n        .then(() => {\r\n          this.updateSuccess = true;\r\n        });\r\n    },\r\n    handleDelete() {\r\n      this.deleteUser(this.userId)\r\n        .then(() => {\r\n          this.logout();\r\n        });\r\n    },\r\n    handleExport() {\r\n      this.exportUser(this.userId)\r\n        .then((response) => {\r\n          const exportedDataURL = window.URL.createObjectURL(new Blob([response.data]));\r\n          const fileLink = document.createElement('a');\r\n          fileLink.href = exportedDataURL;\r\n          fileLink.setAttribute('download', 'file.pdf');\r\n          document.body.appendChild(fileLink);\r\n          fileLink.click();\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getFollows(this.userId);\r\n    this.fetchUser(this.userId)\r\n      .then(() => {\r\n        this.rgpdCheckboxes.restricted = this.oneUser.restricted;\r\n        this.rgpdCheckboxes.contactable = this.oneUser.contactable;\r\n        this.rgpdCheckboxes.shareWithPartners = this.oneUser.shareWithPartners;\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonalAccount.vue?vue&type=template&id=3ee145fe&\"\nimport script from \"./PersonalAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonalAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}