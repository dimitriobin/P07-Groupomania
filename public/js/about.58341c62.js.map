{"version":3,"sources":["webpack:///./src/components/SubjectSuggest.vue?a9aa","webpack:///./src/views/Register.vue?739d","webpack:///./src/views/User.vue?14e7","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?6a5a","webpack:///./src/views/User.vue","webpack:///./src/components/Chat/ChatMessages.vue?7ead","webpack:///./node_modules/dayjs/plugin/localizedFormat.js","webpack:///./src/components/Chat/ChatConversations.vue?9fc3","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/Chat.vue?3f55","webpack:///./src/components/Chat/ChatUser.vue?01b2","webpack:///src/components/Chat/ChatUser.vue","webpack:///./src/components/Chat/ChatUser.vue?0df8","webpack:///./src/components/Chat/ChatUser.vue?a810","webpack:///./src/components/Chat/ChatMessages.vue?74fd","webpack:///src/components/Chat/ChatMessages.vue","webpack:///./src/components/Chat/ChatMessages.vue?250c","webpack:///./src/components/Chat/ChatMessages.vue?04fb","webpack:///./src/components/Chat/ChatConversations.vue?3687","webpack:///src/components/Chat/ChatConversations.vue","webpack:///./src/components/Chat/ChatConversations.vue?34d1","webpack:///./src/components/Chat/ChatConversations.vue?4c78","webpack:///./src/components/Chat/ChatHeader.vue?3287","webpack:///src/components/Chat/ChatHeader.vue","webpack:///./src/components/Chat/ChatHeader.vue?5081","webpack:///./src/components/Chat/ChatHeader.vue","webpack:///src/views/Chat.vue","webpack:///./src/views/Chat.vue?6ed9","webpack:///./src/views/Chat.vue?6af0","webpack:///./src/views/PersonalAccount.vue?0ade","webpack:///./src/components/UserForm.vue?149d","webpack:///src/components/UserForm.vue","webpack:///./src/components/UserForm.vue?bedd","webpack:///./src/components/UserForm.vue","webpack:///src/views/PersonalAccount.vue","webpack:///./src/views/PersonalAccount.vue?6795","webpack:///./src/views/PersonalAccount.vue","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/Chat/ChatUser.vue?c27c","webpack:///./src/views/Register.vue?ba23","webpack:///./src/components/Register/Signup.vue?e400","webpack:///src/components/Register/Signup.vue","webpack:///./src/components/Register/Signup.vue?dd27","webpack:///./src/components/Register/Signup.vue","webpack:///./src/components/Register/Login.vue?d202","webpack:///src/components/Register/Login.vue","webpack:///./src/components/Register/Login.vue?8995","webpack:///./src/components/Register/Login.vue","webpack:///./src/components/SubjectSuggest.vue?3e08","webpack:///src/components/SubjectSuggest.vue","webpack:///./src/components/SubjectSuggest.vue?9a8c","webpack:///./src/components/SubjectSuggest.vue?fdd1","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue?b624","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/assets/img/icon-above-font.png","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/Chat.vue?8b5f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","oneUser","user_name","_l","post","key","id","allPosts","length","postPagination","totalPosts","on","$event","fetchAllPostsByOneUser","page","$route","params","image_url","_e","subject","index","staticRenderFns","name","components","Post","Subject","LazyLoadingScroll","watch","fetchUser","to","computed","methods","mounted","getFollows","userId","component","e","t","module","exports","LTS","LT","L","LL","LLL","LLLL","n","o","r","prototype","M","format","en","formats","$locale","replace","toUpperCase","slice","call","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","indexOf","arguments","undefined","class","currentConversation","directives","rawName","modifiers","$bvModal","hide","sendMessage","model","value","callback","$$v","message","expression","show","user","selectedUser","isOnline","handleSubmit","data","allOtherUsers","allUsers","filter","compare","createConversation","conversation","Messages","totalMessages","handleLoading","UserId","formatDate","createdAt","content","lastMessageSent","read","updatedAt","down","allConversations","lastMessage","scrollDown","chatMessages","scrollTop","scrollHeight","scrollAdjust","readAllMessagesByConversation","updated","conversationId","handleClick","Users","participants","unreadMessages","allConversationsSortByNew","sort","y","x","users","messages","some","setCurrentConversation","otherUsers","usersNames","forEach","names","join","ChatUser","ChatMessages","ChatConversations","ChatHeader","socket","emit","updateConversationAsRead","newValue","preventDefault","createMessage","fetchAllUsers","showAllSubjects","showMoreSubjects","handleUpdateRgpd","rgpdCheckboxes","domProps","Array","isArray","restricted","_i","$$a","$$el","$$c","checked","$$i","$set","concat","updateSuccess","contactable","shareWithPartners","handleDelete","handleExport","ref","scopedSlots","_u","fn","editInfos","editPass","userData","email","previewUrl","birthdate","handleUpdateInfos","valid","errors","showPreview","userIsMajor","parentEmail","handleUpdatePassword","props","oldPassword","newPassword","confirmation","ValidationProvider","ValidationObserver","now","diff","URL","createObjectURL","file","append","updateUser","updatePassword","UserForm","exportedDataURL","subjectsNotFollowed","allSubjects","fetchAllSubjects","deleteUser","exportUser","isRegExp","it","TypeError","handleRegister","signup","composing","password","Object","entries","register","handleLogin","login","isFollowing","refresh","document","location","reload","Signup","Login","SubjectSuggest","loggedIn","loggedUser","status","$router","push","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","separator","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn"],"mappings":"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","file":"js/about.58341c62.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubjectSuggest.vue?vue&type=style&index=0&id=0096873c&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=0e65f858&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"m-0\",attrs:{\"tag\":\"main\",\"id\":\"User\"}},[_c('b-col',{staticClass:\"text-center sr-only\",attrs:{\"tag\":\"h1\",\"cols\":\"12\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Profile de \")]),_vm._v(\" \"+_vm._s(_vm.oneUser.user_name)+\" \")]),_c('b-col',{attrs:{\"tag\":\"section\",\"cols\":\"12\",\"lg\":\"8\",\"order\":\"1\",\"order-lg\":\"0\"}},[_c('h2',{staticClass:\"sr-only\"},[_vm._v(\"Les derniers posts de \"+_vm._s(_vm.oneUser.user_name))]),_vm._l((_vm.allPosts),function(post){return _c('Post',{key:post.id,attrs:{\"post\":post}})}),(_vm.allPosts.length && _vm.allPosts.length < _vm.postPagination.totalPosts)?_c('LazyLoadingScroll',{on:{\"loadMore\":function($event){return _vm.fetchAllPostsByOneUser({ page: $event, id: _vm.$route.params.id })}}}):_c('p',[_vm._v(\"Fin des posts\")])],2),_c('b-col',{staticClass:\"h-100 d-flex flex-column justify-start align-items-center mb-4\",attrs:{\"tag\":\"aside\",\"cols\":\"12\",\"lg\":\"4\"}},[_c('b-card',{staticClass:\"w-100 align-items-center border-0 shadow mb-4\"},[(_vm.oneUser.image_url)?_c('b-avatar',{staticClass:\"mb-3 bg-transparent\",attrs:{\"src\":_vm.oneUser.image_url,\"size\":\"150px\"}}):_vm._e(),_c('h2',{staticClass:\"mb-3 text-center\"},[_vm._v(_vm._s(_vm.oneUser.user_name))]),_c('b-button',{staticClass:\"btn-dark text-white\",attrs:{\"to\":\"/chat\"}},[_vm._v(\"Envoyer un message\")])],1),_c('b-card',{staticClass:\"w-100 align-items-center border-0 shadow\",attrs:{\"body-class\":\"w-100 p-4\"}},[_c('h2',{staticClass:\"h3 text-center\"},[_vm._v(\"Sujets suivis\")]),_c('b-list-group',{staticClass:\"px-4 list-unstyled\",attrs:{\"tag\":\"ul\"}},[_c('li',_vm._l((_vm.oneUser.Subjects),function(subject,index){return _c('subject',{key:index,staticClass:\"text-dark p-0 text-left\",attrs:{\"subject\":subject,\"fill\":true}})}),1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row\r\n    tag=\"main\"\r\n    id=\"User\"\r\n    class=\"m-0\">\r\n    <b-col\r\n      tag=\"h1\"\r\n      cols=\"12\"\r\n      class=\"text-center sr-only\">\r\n      <span class=\"sr-only\">Profile de </span>\r\n      {{ oneUser.user_name }}\r\n      </b-col>\r\n    <b-col tag=\"section\" cols=\"12\" lg=\"8\" order=\"1\" order-lg=\"0\">\r\n      <h2 class=\"sr-only\">Les derniers posts de {{ oneUser.user_name }}</h2>\r\n      <Post\r\n        v-for=\"post in allPosts\"\r\n        :key=\"post.id\"\r\n        :post=\"post\" />\r\n      <LazyLoadingScroll\r\n        v-if=\"allPosts.length && allPosts.length < postPagination.totalPosts\"\r\n        @loadMore=\"fetchAllPostsByOneUser({ page: $event, id: $route.params.id })\" />\r\n      <p v-else>Fin des posts</p>\r\n    </b-col>\r\n    <!-- ASIDE INFOS -->\r\n    <b-col\r\n      tag=\"aside\"\r\n      cols=\"12\"\r\n      lg=\"4\"\r\n      class=\"h-100 d-flex flex-column justify-start align-items-center mb-4\">\r\n      <b-card\r\n        class=\"w-100 align-items-center border-0 shadow mb-4\">\r\n        <b-avatar\r\n          v-if=\"oneUser.image_url\"\r\n          :src=\"oneUser.image_url\"\r\n          size=\"150px\"\r\n          class=\"mb-3 bg-transparent\">\r\n        </b-avatar>\r\n        <h2 class=\"mb-3 text-center\">{{ oneUser.user_name }}</h2>\r\n        <b-button to='/chat' class=\"btn-dark text-white\">Envoyer un message</b-button>\r\n      </b-card>\r\n      <b-card\r\n        class=\"w-100 align-items-center border-0 shadow\"\r\n        body-class=\"w-100 p-4\">\r\n        <h2 class=\"h3 text-center\">Sujets suivis</h2>\r\n        <b-list-group\r\n          tag=\"ul\"\r\n          class=\"px-4 list-unstyled\">\r\n            <li>\r\n              <subject\r\n                v-for=\"(subject, index) in oneUser.Subjects\"\r\n                :key=\"index\"\r\n                :subject=\"subject\"\r\n                :fill=\"true\"\r\n                class=\"text-dark p-0 text-left\">\r\n              </subject>\r\n            </li>\r\n        </b-list-group>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport Post from '@/components/Post.vue';\r\nimport Subject from '@/components/Subject.vue';\r\nimport LazyLoadingScroll from '@/components/LazyLoadingScroll.vue';\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'User',\r\n  components: {\r\n    Post,\r\n    Subject,\r\n    LazyLoadingScroll,\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.fetchUser(to.params.id);\r\n      this.fetchAllPostsByOneUser({ page: 0, id: to.params.id });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters(['oneUser', 'userId', 'allPosts', 'postPagination']),\r\n  },\r\n  methods: {\r\n    ...mapActions(['fetchUser', 'getFollows', 'fetchAllPostsByOneUser']),\r\n  },\r\n  mounted() {\r\n    this.fetchUser(this.$route.params.id);\r\n    this.getFollows(this.userId);\r\n    this.fetchAllPostsByOneUser({ page: 0, id: this.$route.params.id });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=0216de9c&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessages.vue?vue&type=style&index=0&id=53440a30&scoped=true&lang=css&\"","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,n,o){var r=n.prototype,M=r.format;o.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var n=this.$locale().formats,o=function(t,n){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,o,r){var M=r&&r.toUpperCase();return o||n[r]||e[r]||n[M].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})}(t,void 0===n?{}:n);return M.call(this,o)}}});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatConversations.vue?vue&type=style&index=0&id=3ee9a994&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"rounded-lg shadow h-100\",attrs:{\"tag\":\"main\",\"id\":\"chat\"}},[_c('b-col',{staticClass:\"h-100 border-right flex-column justify-content-between\",class:{'d-none d-lg-flex': _vm.currentConversation, 'd-flex': !_vm.currentConversation},attrs:{\"cols\":\"12\",\"lg\":\"4\"}},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center p-2\"},[_c('h1',{staticClass:\"h3\"},[_vm._v(\"Discussions\")]),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.onlineUsers\",modifiers:{\"onlineUsers\":true}}],staticClass:\"bg-transparent border-0\"},[_c('b-icon-pencil-square',{staticClass:\"text-dark\",attrs:{\"aria-label\":\"Démarrer une conversation avec un collègue\",\"font-scale\":\"1.5\"}})],1),_c('b-modal',{attrs:{\"id\":\"onlineUsers\",\"title\":\"Avec qui voulez-vous discutter ?\",\"hide-footer\":\"\",\"centered\":\"\",\"scrollable\":\"\",\"content-class\":\"h-100\"}},[_c('ChatUser',{on:{\"conversationCreated\":function($event){return _vm.$bvModal.hide('onlineUsers')}}})],1)],1),_c('ChatConversations')],1),(_vm.currentConversation !== 0)?_c('b-col',{staticClass:\"h-100 d-flex flex-column justify-content-between align-items-stretch\"},[_c('ChatHeader'),_c('ChatMessages'),_c('form',{staticClass:\"d-flex justify-content-between align-items-center position-relative\",on:{\"submit\":_vm.sendMessage}},[_c('b-form-input',{staticClass:\"my-3 w-100\",attrs:{\"aria-label\":\"Envoyer un nouveau message\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('b-button',{staticClass:\"input__btn\",attrs:{\"type\":\"submit\",\"variant\":\"link\"}},[_vm._v(\"Envoyer\")])],1)],1):_c('b-col',{staticClass:\"h-100 d-none d-lg-flex flex-column justify-content-center align-items-center\"},[_c('h2',[_vm._v(\"Vos messages\")]),_c('p',[_vm._v(\"Créer une nouvelle conversation avec vos collègues \")]),_c('b-button',{attrs:{\"variant\":\"dark\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.$bvModal.show('onlineUsers')}}},[_vm._v(\" Créer une conversation \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-100 d-flex flex-column justify-between align-items-stretch\"},[_c('b-list-group',{staticClass:\"overflow-y-auto overflow-x-hidden\",attrs:{\"id\":\"onlineUsersList\"}},_vm._l((_vm.allOtherUsers),function(user,index){return _c('b-list-group-item',{key:index,staticClass:\"border-0 rounded-pill text-dark d-flex justify-content-start align-items-center\",class:{ 'active': _vm.selectedUser === user.id },attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.selectedUser = user.id}}},[_c('b-avatar',{staticClass:\"mr-3 bg-transparent\",attrs:{\"badge\":_vm.isOnline(user.id),\"badge-variant\":\"success\",\"src\":user.image_url,\"size\":\"3.5rem\"}}),_c('div',[_c('p',{staticClass:\"m-0 h5\"},[_vm._v(_vm._s(user.user_name))])])],1)}),1),_c('div',{staticClass:\"mt-2 w-100\"},[_c('b-button',{staticClass:\"d-block mx-auto\",attrs:{\"variant\":\"success\",\"size\":\"lg\"},on:{\"~click\":function($event){return _vm.handleSubmit()}}},[_vm._v(\" Démarrer une conversation \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"h-100 d-flex flex-column justify-between align-items-stretch\">\r\n  <b-list-group\r\n    id=\"onlineUsersList\"\r\n    class=\"overflow-y-auto overflow-x-hidden\">\r\n    <b-list-group-item\r\n      v-for=\"(user, index) in allOtherUsers\"\r\n      :key=\"index\"\r\n      href=\"#\"\r\n      :class=\"{ 'active': selectedUser === user.id }\"\r\n      class=\"border-0 rounded-pill text-dark d-flex justify-content-start align-items-center\"\r\n      @click=\"selectedUser = user.id\">\r\n      <b-avatar\r\n        :badge=\"isOnline(user.id)\"\r\n        badge-variant=\"success\"\r\n        :src=\"user.image_url\"\r\n        size=\"3.5rem\"\r\n        class=\"mr-3 bg-transparent\">\r\n      </b-avatar>\r\n      <div>\r\n        <p class=\"m-0 h5\">{{ user.user_name }}</p>\r\n      </div>\r\n    </b-list-group-item>\r\n  </b-list-group>\r\n  <div class=\"mt-2 w-100\">\r\n    <b-button\r\n      @click.once=\"handleSubmit()\"\r\n      class=\"d-block mx-auto\" variant=\"success\" size=\"lg\">\r\n      Démarrer une conversation\r\n    </b-button>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'ChatUser',\r\n  data() {\r\n    return {\r\n      selectedUser: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'userId',\r\n      'allUsers',\r\n      'allOnlineUsers',\r\n    ]),\r\n    allOtherUsers() {\r\n      return this.allUsers.filter((user) => user.id !== this.userId);\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'createConversation',\r\n    ]),\r\n    isOnline(userId) {\r\n      const compare = this.allOnlineUsers.filter((user) => (user.userId === userId));\r\n      return compare.length > 0;\r\n    },\r\n    handleSubmit() {\r\n      this.createConversation([this.selectedUser, this.userId])\r\n        .then(() => this.$emit('conversationCreated'));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#onlineUsersList {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  box-sizing: border-box;\r\n  padding: 1rem 0;\r\n}\r\n\r\n.active {\r\n  background: rgba(220, 53, 69, 0.1) !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatUser.vue?vue&type=template&id=ce313674&scoped=true&\"\nimport script from \"./ChatUser.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatUser.vue?vue&type=style&index=0&id=ce313674&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce313674\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-0 px-sm-3 px-md-4 d-flex flex-column justify-content-end align-items-stretch\",attrs:{\"id\":\"chatMessages\"}},[(_vm.conversation.Messages.length && _vm.conversation.Messages.length < _vm.conversation.totalMessages)?_c('LazyLoadingScroll',{on:{\"loadMore\":function($event){return _vm.handleLoading($event)}}}):_c('p',{staticClass:\"text-center my-4 text-muted\"},[_vm._v(\" \"+_vm._s(_vm.conversation.Messages.length > 0 ? 'Fin des messages' : 'Cette conversation ne contient aucun message')+\" \")]),_vm._l((_vm.conversation.Messages),function(message,index){return _c('p',{key:index,staticClass:\"d-flex flex-column justify-content-center align-items-start\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bg-light px-4 py-2 rounded-pill w-auto text-break mw-70\",class:{ 'message-sent': message.UserId === _vm.userId },attrs:{\"title\":_vm.formatDate(message.createdAt)}},[_vm._v(\" \"+_vm._s(message.content)+\" \")]),(_vm.lastMessageSent && _vm.lastMessageSent.id === message.id && message.read === true && message.UserId === _vm.userId)?_c('span',{staticClass:\"align-self-end\"},[_c('b-icon-check-all'),_c('small',[_vm._v(\" vu le \"+_vm._s(_vm.formatDate(message.updatedAt))+\" \")])],1):_vm._e(),(index === _vm.conversation.Messages.length - 1 && message.read === false && message.UserId === _vm.userId)?_c('span',{staticClass:\"align-self-end\"},[_c('b-icon-check'),_c('small',[_vm._v(\" envoyé le \"+_vm._s(_vm.formatDate(message.createdAt))+\" \")])],1):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    id=\"chatMessages\"\r\n    class=\"pt-0 px-sm-3 px-md-4 d-flex flex-column justify-content-end align-items-stretch\">\r\n    <LazyLoadingScroll\r\n      v-if=\"conversation.Messages.length && conversation.Messages.length < conversation.totalMessages\"\r\n      @loadMore=\"handleLoading($event)\" />\r\n    <p v-else class=\"text-center my-4 text-muted\">\r\n      {{ conversation.Messages.length > 0 ? 'Fin des messages' : 'Cette conversation ne contient aucun message' }}\r\n    </p>\r\n    <p\r\n      v-for=\"(message, index) in conversation.Messages\"\r\n      :key=\"index\"\r\n      class=\"d-flex flex-column justify-content-center align-items-start\">\r\n        <span\r\n          v-b-tooltip.hover :title=\"formatDate(message.createdAt)\"\r\n          :class=\"{ 'message-sent': message.UserId === userId }\"\r\n          class=\"bg-light px-4 py-2 rounded-pill w-auto text-break mw-70\">\r\n          {{ message.content }}\r\n        </span>\r\n        <span\r\n          v-if=\"lastMessageSent && lastMessageSent.id === message.id && message.read === true && message.UserId === userId\"\r\n          class=\"align-self-end\">\r\n          <b-icon-check-all>\r\n          </b-icon-check-all>\r\n          <small>\r\n            vu le {{formatDate(message.updatedAt)}}\r\n          </small>\r\n        </span>\r\n        <span\r\n          v-if=\"index === conversation.Messages.length - 1 && message.read === false && message.UserId === userId\"\r\n          class=\"align-self-end\">\r\n          <b-icon-check>\r\n          </b-icon-check>\r\n          <small>\r\n            envoyé le {{formatDate(message.createdAt)}}\r\n          </small>\r\n        </span>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\nimport LazyLoadingScroll from '@/components/LazyLoadingScroll.vue';\r\nimport dayjs from 'dayjs';\r\nimport fr from 'dayjs/locale/fr';\r\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\r\n\r\ndayjs.extend(LocalizedFormat);\r\ndayjs.locale(fr);\r\n\r\nexport default {\r\n  name: 'ChatMessages',\r\n  components: {\r\n    LazyLoadingScroll,\r\n  },\r\n  data() {\r\n    return {\r\n      down: true,\r\n    };\r\n  },\r\n  watch: {\r\n    currentConversation() {\r\n      this.down = true;\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'userId',\r\n      'allConversations',\r\n      'currentConversation',\r\n      'socket',\r\n    ]),\r\n    conversation() {\r\n      return this.allConversations.filter((conversation) => conversation.id === this.currentConversation)[0];\r\n    },\r\n    lastMessageSent() {\r\n      const messages = this.conversation.Messages.filter((msg) => msg.UserId === this.userId);\r\n      const [lastMessage] = messages.slice().sort((a, b) => dayjs(b.createdAt).unix() - dayjs(a.createdAt).unix());\r\n      return lastMessage;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'readAllMessagesByConversation',\r\n    ]),\r\n    scrollDown() {\r\n      const chatMessages = document.querySelector('#chatMessages');\r\n      chatMessages.scrollTop = chatMessages.scrollHeight;\r\n    },\r\n    scrollAdjust() {\r\n      const chatMessages = document.querySelector('#chatMessages');\r\n      chatMessages.scrollTop = chatMessages.scrollHeight - chatMessages.scrollTop;\r\n    },\r\n    formatDate(date) {\r\n      return dayjs(date).format('LLL');\r\n    },\r\n    handleLoading(e) {\r\n      this.down = false;\r\n      this.readAllMessagesByConversation({ conversationId: this.conversation.id, page: e })\r\n        .then(() => {\r\n          this.down = true;\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.socket.on('message', (msg) => {\r\n    //   console.log(msg.ConversationId);\r\n    //   if (msg.ConversationId === this.currentConversation) {\r\n    //     this.scrollDown();\r\n    //   }\r\n    // });\r\n  },\r\n  updated() {\r\n    if (this.down) {\r\n      this.scrollDown();\r\n    } else {\r\n      this.scrollAdjust();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#chatMessages {\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n}\r\n\r\n.message-sent {\r\n  text-align: right;\r\n  background: rgba(0, 179, 217, 0.1) !important;\r\n  width: auto !important;\r\n  align-self: flex-end;\r\n}\r\n\r\n.messages-header {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.mw-70 {\r\n  max-width: 70%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatMessages.vue?vue&type=template&id=53440a30&scoped=true&\"\nimport script from \"./ChatMessages.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMessages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatMessages.vue?vue&type=style&index=0&id=53440a30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53440a30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-list-group',{staticClass:\"flex-grow-1\",attrs:{\"id\":\"conversationsList\"}},[_c('h2',{staticClass:\"sr-only\"},[_vm._v(\"Vos conversations en cours\")]),_vm._l((_vm.allConversationsSortByNew),function(conversation,index){return _c('b-list-group-item',{key:index,staticClass:\"border-0 rounded-pill text-dark d-flex justify-content-start align-items-center\",attrs:{\"href\":\"#\",\"active\":_vm.currentConversation === conversation.id},on:{\"~click\":function($event){return _vm.readAllMessagesByConversation({ conversationId: conversation.id, page: 0 })},\"click\":function($event){return _vm.handleClick(conversation.id)}}},[_c('b-avatar',{staticClass:\"mr-3 bg-transparent\",attrs:{\"badge\":_vm.isOnline(conversation.Users),\"badge-variant\":\"success\",\"src\":_vm.participants(conversation.Users)[0].image_url,\"size\":\"3.5rem\"}}),_c('div',[_c('h3',{staticClass:\"m-0 h5\"},[_vm._v(\" \"+_vm._s(_vm.participants(conversation.Users)[0].user_name)+\" \"),(_vm.participants(conversation.Users)[1])?_c('span',[_vm._v(\", \"+_vm._s(_vm.participants(conversation.Users)[1].user_name))]):_vm._e(),(_vm.participants(conversation.Users).length > 3)?_c('span',[_vm._v(\", ...\")]):_vm._e()]),(conversation.Messages.length)?_c('p',{staticClass:\"text-muted m-0\"},[_vm._v(\" \"+_vm._s(conversation.Messages[conversation.Messages.length - 1].content)+\" \")]):_vm._e(),(conversation.Messages.length)?_c('small',[_vm._v(\" \"+_vm._s(_vm.formatDate(conversation.Messages[conversation.Messages.length - 1].createdAt))+\" \")]):_vm._e()]),(_vm.unreadMessages(conversation.Messages))?_c('b-icon-circle-fill',{staticClass:\"ml-auto text-info\",attrs:{\"font-scale\":\"1\"}}):_vm._e()],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<b-list-group id=\"conversationsList\" class=\"flex-grow-1\">\r\n  <h2 class=\"sr-only\">Vos conversations en cours</h2>\r\n  <b-list-group-item\r\n    v-for=\"(conversation, index) in allConversationsSortByNew\"\r\n    :key=\"index\"\r\n    href=\"#\"\r\n    :active=\"currentConversation === conversation.id\"\r\n    @click.once=\"readAllMessagesByConversation({ conversationId: conversation.id, page: 0 })\"\r\n    @click=\"handleClick(conversation.id)\"\r\n    class=\"border-0 rounded-pill text-dark d-flex justify-content-start align-items-center\">\r\n    <b-avatar\r\n      :badge=\"isOnline(conversation.Users)\"\r\n      badge-variant=\"success\"\r\n      :src=\"participants(conversation.Users)[0].image_url\"\r\n      size=\"3.5rem\"\r\n      class=\"mr-3 bg-transparent\">\r\n    </b-avatar>\r\n    <div>\r\n      <h3 class=\"m-0 h5\">\r\n        {{ participants(conversation.Users)[0].user_name }}\r\n        <span v-if=\"participants(conversation.Users)[1]\">, {{ participants(conversation.Users)[1].user_name }}</span>\r\n        <span v-if=\"participants(conversation.Users).length > 3\">, ...</span>\r\n      </h3>\r\n      <p\r\n        v-if=\"conversation.Messages.length\"\r\n        class=\"text-muted m-0\">\r\n        {{ conversation.Messages[conversation.Messages.length - 1].content }}\r\n      </p>\r\n      <small\r\n        v-if=\"conversation.Messages.length\">\r\n        {{ formatDate(conversation.Messages[conversation.Messages.length - 1].createdAt) }}\r\n      </small>\r\n    </div>\r\n    <b-icon-circle-fill\r\n      v-if=\"unreadMessages(conversation.Messages)\"\r\n      font-scale=\"1\"\r\n      class=\"ml-auto text-info\">\r\n    </b-icon-circle-fill>\r\n  </b-list-group-item>\r\n</b-list-group>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport default {\r\n  name: 'ChatConversations',\r\n  computed: {\r\n    ...mapGetters([\r\n      'allConversations',\r\n      'userId',\r\n      'allOnlineUsers',\r\n      'currentConversation',\r\n    ]),\r\n    allConversationsSortByNew() {\r\n      return this.allConversations.slice().sort((a, b) => {\r\n        const x = a.Messages.length ? dayjs(a.Messages[a.Messages.length - 1].createdAt).unix() : 0;\r\n        const y = b.Messages.length ? dayjs(b.Messages[b.Messages.length - 1].createdAt).unix() : 0;\r\n        return y - x;\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'readAllMessagesByConversation',\r\n    ]),\r\n    ...mapMutations([\r\n      'setCurrentConversation',\r\n    ]),\r\n    participants(users) {\r\n      return users.filter((user) => user.id !== this.userId);\r\n    },\r\n    isOnline(users) {\r\n      const otherUsers = users.filter((user) => user.id !== this.userId);\r\n      const compare = this.allOnlineUsers.find((onlineUser) => (onlineUser.userId === otherUsers[0].id));\r\n      return compare !== undefined;\r\n    },\r\n    unreadMessages(messages) {\r\n      return messages.some((msg) => msg.read === false && msg.UserId !== this.userId);\r\n    },\r\n    formatDate(date) {\r\n      return dayjs(date).fromNow();\r\n    },\r\n    handleClick(e) {\r\n      this.setCurrentConversation(e);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#conversationsList {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  box-sizing: border-box;\r\n  padding: 1rem 0;\r\n}\r\n\r\n.active {\r\n  background: rgba(220, 53, 69, 0.1) !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatConversations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatConversations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatConversations.vue?vue&type=template&id=3ee9a994&scoped=true&\"\nimport script from \"./ChatConversations.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatConversations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatConversations.vue?vue&type=style&index=0&id=3ee9a994&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ee9a994\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-2 p-sm-3 p-lg-4 d-flex align-items-center\"},[_c('b-button',{staticClass:\"text-dark mr-1 mr-lg-0 d-lg-none\",attrs:{\"variant\":\"link\"}},[_c('b-icon-arrow-left',{attrs:{\"aria-label\":\"Revenir à la liste des conversations\",\"font-scale\":\"1.5\"},on:{\"click\":function($event){return _vm.setCurrentConversation(0)}}})],1),_c('b-avatar',{staticClass:\"mr-3 bg-transparent\",attrs:{\"src\":_vm.otherUsers[0].image_url,\"size\":\"2.5rem\"}}),_c('h2',{staticClass:\"h5 m-0\"},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Conversation avec \")]),_vm._v(_vm._s(_vm.usersNames))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"p-2 p-sm-3 p-lg-4 d-flex align-items-center\">\r\n    <b-button\r\n      variant=\"link\"\r\n      class=\"text-dark mr-1 mr-lg-0 d-lg-none\">\r\n      <b-icon-arrow-left\r\n        aria-label=\"Revenir à la liste des conversations\"\r\n        font-scale=\"1.5\"\r\n        @click=\"setCurrentConversation(0)\">\r\n      </b-icon-arrow-left>\r\n    </b-button>\r\n    <b-avatar\r\n      :src=\"otherUsers[0].image_url\"\r\n      size=\"2.5rem\"\r\n      class=\"mr-3 bg-transparent\">\r\n    </b-avatar>\r\n    <h2 class=\"h5 m-0\"><span class=\"sr-only\">Conversation avec </span>{{ usersNames }}</h2>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\n\r\nexport default {\r\n  name: 'ChatHeader',\r\n  computed: {\r\n    ...mapGetters([\r\n      'userId',\r\n      'currentConversation',\r\n      'allConversations',\r\n    ]),\r\n    otherUsers() {\r\n      const [conversation] = this.allConversations.filter((c) => c.id === this.currentConversation);\r\n      return conversation.Users.filter((u) => u.id !== this.userId);\r\n    },\r\n    usersNames() {\r\n      const names = [];\r\n      this.otherUsers.forEach((u) => names.push(u.user_name));\r\n      return names.join(', ');\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      'setCurrentConversation',\r\n    ]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatHeader.vue?vue&type=template&id=16856a11&\"\nimport script from \"./ChatHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-row tag=\"main\" id =\"chat\" class=\"rounded-lg shadow h-100\">\r\n    <!-- users -->\r\n    <b-col\r\n      cols=\"12\"\r\n      lg=\"4\"\r\n      :class=\"{'d-none d-lg-flex': currentConversation, 'd-flex': !currentConversation}\"\r\n      class=\"h-100 border-right flex-column justify-content-between\">\r\n      <!-- users header -->\r\n      <div class=\"d-flex justify-content-between align-items-center p-2\">\r\n        <h1 class=\"h3\">Discussions</h1>\r\n        <b-button class=\"bg-transparent border-0\" v-b-modal.onlineUsers>\r\n          <b-icon-pencil-square\r\n            aria-label=\"Démarrer une conversation avec un collègue\"\r\n            class=\"text-dark\"\r\n            font-scale=\"1.5\">\r\n          </b-icon-pencil-square>\r\n        </b-button>\r\n        <b-modal\r\n          id=\"onlineUsers\"\r\n          title=\"Avec qui voulez-vous discutter ?\"\r\n          hide-footer\r\n          centered\r\n          scrollable\r\n          content-class=\"h-100\">\r\n          <!-- online users -->\r\n          <ChatUser @conversationCreated=\"$bvModal.hide('onlineUsers')\"/>\r\n        </b-modal>\r\n      <!-- Conversations overview -->\r\n      </div>\r\n      <ChatConversations />\r\n    </b-col>\r\n    <!-- chat section -->\r\n    <b-col\r\n      v-if=\"currentConversation !== 0\"\r\n      class=\"h-100 d-flex flex-column justify-content-between align-items-stretch\">\r\n      <ChatHeader />\r\n      <ChatMessages />\r\n      <!-- form message -->\r\n      <form\r\n        @submit=\"sendMessage\"\r\n        class=\"d-flex justify-content-between align-items-center position-relative\">\r\n        <b-form-input\r\n          aria-label=\"Envoyer un nouveau message\"\r\n          v-model=\"message\"\r\n          class=\"my-3 w-100\">\r\n        </b-form-input>\r\n        <b-button type=\"submit\" variant=\"link\" class=\"input__btn\">Envoyer</b-button>\r\n      </form>\r\n    </b-col>\r\n    <b-col\r\n      v-else\r\n      class=\"h-100 d-none d-lg-flex flex-column justify-content-center align-items-center\">\r\n      <h2>Vos messages</h2>\r\n      <p>Créer une nouvelle conversation avec vos collègues </p>\r\n      <b-button\r\n        @click=\"$bvModal.show('onlineUsers')\"\r\n        variant=\"dark\"\r\n        pill>\r\n        Créer une conversation\r\n      </b-button>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport ChatUser from '@/components/Chat/ChatUser.vue';\r\nimport ChatMessages from '@/components/Chat/ChatMessages.vue';\r\nimport ChatConversations from '@/components/Chat/ChatConversations.vue';\r\nimport ChatHeader from '@/components/Chat/ChatHeader.vue';\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\r\n\r\nexport default {\r\n  name: 'Chat',\r\n  components: {\r\n    ChatUser,\r\n    ChatMessages,\r\n    ChatConversations,\r\n    ChatHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      message: '',\r\n    };\r\n  },\r\n  watch: {\r\n    currentConversation(newValue) {\r\n      if (this.currentConversation !== 0) {\r\n        this.socket.emit('subscribe', this.currentConversation);\r\n        this.updateConversationAsRead(newValue)\r\n          .then((res) => {\r\n            if (this.unreadCount > 0) {\r\n              const [updatedCount] = res.updated;\r\n              this.setUnreadCount(this.unreadCount - updatedCount);\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'userId',\r\n      'currentConversation',\r\n      'socket',\r\n      'unreadCount',\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'fetchUser',\r\n      'fetchAllUsers',\r\n      'createMessage',\r\n      'updateConversationAsRead',\r\n    ]),\r\n    ...mapMutations([\r\n      'setUnreadCount',\r\n    ]),\r\n    sendMessage(e) {\r\n      e.preventDefault();\r\n      this.createMessage({ content: this.message });\r\n      this.message = '';\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchUser(this.userId);\r\n    this.fetchAllUsers();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#chat {\r\n  height: 100%;\r\n}\r\n\r\n.input__btn {\r\n  position: absolute;\r\n  right: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=12b8a5ea&scoped=true&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=12b8a5ea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12b8a5ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{attrs:{\"id\":\"PersonalAccount\"}},[_c('h1',{staticClass:\"h2 text-center mb-4 sr-only\"},[_vm._v(\"Vos données personnelles\")]),_c('b-tabs',{attrs:{\"content-class\":\"p-md-5\",\"pills\":\"\",\"fill\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"Sujets\"}},[_c('h2',{staticClass:\"h4 my-5\"},[_vm._v(\"Vous suivez ces sujets\")]),_c('b-list-group',{attrs:{\"flush\":\"\"}},[_vm._l((_vm.allFollows),function(subject){return _c('Subject',{key:subject.id,attrs:{\"subject\":subject}})}),(!_vm.showAllSubjects)?_c('b-button',{staticClass:\"mt-4\",attrs:{\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.showMoreSubjects()}}},[_vm._v(\"Voir tous les sujets\")]):_vm._l((_vm.subjectsNotFollowed),function(subject){return _c('Subject',{key:subject.id,attrs:{\"subject\":subject}})})],2)],1),_c('b-tab',{attrs:{\"title\":\"Profile\",\"lazy\":\"\"}},[_c('UserForm',{attrs:{\"userData\":_vm.oneUser}})],1),_c('b-tab',{attrs:{\"title\":\"Privacy\"}},[_c('b-form',{staticClass:\"mt-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleUpdateRgpd()}}},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center flex-row-reverse justify-content-end\",attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"ml-2 my-0\",attrs:{\"for\":\"restricted\"}},[_vm._v(\" Restreindre l'utilisation de mes données\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rgpdCheckboxes.restricted),expression:\"rgpdCheckboxes.restricted\"}],attrs:{\"id\":\"restricted\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rgpdCheckboxes.restricted)?_vm._i(_vm.rgpdCheckboxes.restricted,null)>-1:(_vm.rgpdCheckboxes.restricted)},on:{\"change\":[function($event){var $$a=_vm.rgpdCheckboxes.restricted,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.rgpdCheckboxes, \"restricted\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.rgpdCheckboxes, \"restricted\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.rgpdCheckboxes, \"restricted\", $$c)}},function($event){_vm.updateSuccess = false}]}})]),_c('b-col',{staticClass:\"d-flex align-items-center flex-row-reverse justify-content-end\",attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"ml-2 my-0\",attrs:{\"for\":\"contactable\"}},[_vm._v(\" Etre contacté par des partenaires commerciaux\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rgpdCheckboxes.contactable),expression:\"rgpdCheckboxes.contactable\"}],attrs:{\"id\":\"contactable\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rgpdCheckboxes.contactable)?_vm._i(_vm.rgpdCheckboxes.contactable,null)>-1:(_vm.rgpdCheckboxes.contactable)},on:{\"change\":[function($event){var $$a=_vm.rgpdCheckboxes.contactable,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.rgpdCheckboxes, \"contactable\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.rgpdCheckboxes, \"contactable\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.rgpdCheckboxes, \"contactable\", $$c)}},function($event){_vm.updateSuccess = false}]}})]),_c('b-col',{staticClass:\"d-flex align-items-center flex-row-reverse justify-content-end\",attrs:{\"cols\":\"12\"}},[_c('label',{staticClass:\"ml-2 my-0\",attrs:{\"for\":\"shareWithPartners\"}},[_vm._v(\" Accepter que les données soient transmises a des partenaires\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rgpdCheckboxes.shareWithPartners),expression:\"rgpdCheckboxes.shareWithPartners\"}],attrs:{\"id\":\"shareWithPartners\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rgpdCheckboxes.shareWithPartners)?_vm._i(_vm.rgpdCheckboxes.shareWithPartners,null)>-1:(_vm.rgpdCheckboxes.shareWithPartners)},on:{\"change\":[function($event){var $$a=_vm.rgpdCheckboxes.shareWithPartners,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.rgpdCheckboxes, \"shareWithPartners\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.rgpdCheckboxes, \"shareWithPartners\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.rgpdCheckboxes, \"shareWithPartners\", $$c)}},function($event){_vm.updateSuccess = false}]}})])],1),(_vm.updateSuccess)?_c('p',{staticClass:\"text-success mt-2 mb-0\"},[_vm._v(\" Les modifications ont bien été prises en compte \")]):_vm._e(),_c('b-button',{staticClass:\"my-3\",attrs:{\"id\":\"submitRgpd\",\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Envoyer\")])],1),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.supressAccount\",modifiers:{\"supressAccount\":true}}],staticClass:\"text-left\",attrs:{\"type\":\"button\",\"variant\":\"link\"}},[_vm._v(\" Supprimer mon compte \")]),_c('b-modal',{attrs:{\"id\":\"supressAccount\",\"title\":\"BootstrapVue\",\"centered\":\"\",\"hide-header\":\"\",\"hide-footer\":\"\",\"body-class\":\"p-4 d-flex flex-column align-items-center\"}},[_c('p',{staticClass:\"my-4 text-center\"},[_vm._v(\" Vous êtes sur le point de supprimer votre compte de manière définitive. \")]),_c('b-button',{staticClass:\"w-100 mb-2\",attrs:{\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.handleDelete()}}},[_vm._v(\" Supprimer votre compte \")]),_c('b-button',{staticClass:\"w-100\",attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.$bvModal.hide('supressAccount')}}},[_vm._v(\" Annuler \")])],1),_c('b-button',{staticClass:\"text-left\",attrs:{\"type\":\"button\",\"variant\":\"link\"},on:{\"click\":function($event){return _vm.handleExport()}}},[_vm._v(\" Télécharger les données de votre compte \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{ref:\"registerObserver\",attrs:{\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('h2',{staticClass:\"text-center my-5 h4\"},[_vm._v(\"Vos informations personnelles\")]),(!_vm.editInfos && !_vm.editPass)?_c('div',[_c('div',{staticClass:\"d-flex align-items-center mb-4\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Pseudo\")]),(!_vm.editInfos)?_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(_vm.userData.user_name))]):_vm._e()]),_c('div',{staticClass:\"d-flex align-items-center mb-4\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Email\")]),(!_vm.editInfos)?_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(_vm.userData.email))]):_vm._e()]),_c('div',{staticClass:\"d-flex align-items-center mb-4\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Photo de profil\")]),_c('b-img',{staticClass:\"rounded-circle\",attrs:{\"src\":_vm.previewUrl,\"alt\":\"Votre photo de profil\",\"width\":\"100\",\"height\":\"100\"}})],1),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('h3',{staticClass:\"h5 mr-4\"},[_vm._v(\"Date de naissance\")]),(!_vm.editInfos)?_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(_vm.userData.birthdate))]):_vm._e()])]):_vm._e(),(_vm.editInfos)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.handleUpdateInfos)}}},[_c('ValidationProvider',{attrs:{\"name\":\"email\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userMail-group\",\"label\":\"Email :\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userMail\"}},[_c('b-form-input',{attrs:{\"id\":\"userMail\",\"type\":\"text\",\"placeholder\":_vm.userData.email,\"autofocus\":\"\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"pseudo\",\"rules\":\"alpha_num\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userName-group\",\"label\":\"Pseudo:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userName\"}},[_c('b-form-input',{attrs:{\"id\":\"userName\",\"type\":\"text\",\"placeholder\":_vm.userData.user_name,\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.user_name),callback:function ($$v) {_vm.$set(_vm.user, \"user_name\", $$v)},expression:\"user.user_name\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"photo de profil\",\"rules\":\"image\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userImage-group\",\"label\":\"Photo de profil:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userImage\"}},[(_vm.editInfos)?_c('b-form-file',{attrs:{\"id\":\"userImage\",\"browse-text\":\"Parcourir\",\"placeholder\":\"Faites glisser ou sélectionnez une photo\",\"accept\":\"image/*\",\"state\":errors[0] ? false : (valid ? true : null)},on:{\"change\":function($event){return _vm.showPreview($event)}},model:{value:(_vm.user.image_url),callback:function ($$v) {_vm.$set(_vm.user, \"image_url\", $$v)},expression:\"user.image_url\"}}):_vm._e(),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1),_c('b-img',{staticClass:\"d-block mx-auto\",attrs:{\"src\":_vm.previewUrl,\"alt\":\"Votre photo de profil\",\"width\":\"300\",\"height\":\"300\",\"fluid\":\"\"}})]}}],null,true)}),(_vm.editInfos && !_vm.userIsMajor)?_c('ValidationProvider',{attrs:{\"name\":\"email des parents\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userParentMail-group\",\"label\":\"Email des responsables:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userParentMail\"}},[_c('b-form-input',{attrs:{\"id\":\"userParentMail\",\"type\":\"email\",\"placeholder\":_vm.userData.parentEmail,\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.parentEmail),callback:function ($$v) {_vm.$set(_vm.user, \"parentEmail\", $$v)},expression:\"user.parentEmail\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}):_vm._e(),(_vm.editInfos)?_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"button\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){_vm.editInfos = false}}},[_vm._v(\"Annuler\")]):_vm._e(),(_vm.editInfos)?_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Envoyer\")]):_vm._e()],1):_vm._e(),(_vm.editPass)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.handleUpdatePassword)}}},[_c('ValidationProvider',{attrs:{\"name\":\"oldMdp\",\"rules\":\"required|strongPassword\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"oldUserPass-group\",\"label\":\"Ancien mot de passe:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"oldUserPass\"}},[_c('b-form-input',{attrs:{\"id\":\"oldUserPass\",\"name\":\"ancien mot de passe\",\"type\":\"password\",\"trim\":\"\",\"placeholder\":\"*********************\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.oldPassword),callback:function ($$v) {_vm.$set(_vm.user, \"oldPassword\", $$v)},expression:\"user.oldPassword\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"newPassword\",\"vid\":\"mdp\",\"rules\":\"required|strongPassword\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"newUserPass-group\",\"label\":\"Nouveau mot de passe:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"newUserPass\"}},[_c('b-form-input',{attrs:{\"id\":\"newUserPass\",\"type\":\"password\",\"placeholder\":\"*********************\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.newPassword),callback:function ($$v) {_vm.$set(_vm.user, \"newPassword\", $$v)},expression:\"user.newPassword\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"confirmation du nouveau mot de passe\",\"rules\":\"confirmed:mdp\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{attrs:{\"id\":\"userConfirmPass-group\",\"label\":\"Confirmation du mot de passe:\",\"label-cols\":\"12\",\"label-cols-md\":\"3\",\"label-for\":\"userConfirmPass\"}},[_c('b-form-input',{attrs:{\"id\":\"userConfirmPass\",\"type\":\"password\",\"placeholder\":\"*********************\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.confirmation),callback:function ($$v) {_vm.$set(_vm.user, \"confirmation\", $$v)},expression:\"user.confirmation\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"button\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){_vm.editPass = false}}},[_vm._v(\"Annuler\")]),_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Envoyer\")])],1):_vm._e(),(!_vm.editInfos && !_vm.editPass)?_c('b-button',{staticClass:\"mt-4 mr-2\",attrs:{\"type\":\"button\",\"variant\":\"dark\"},on:{\"click\":function($event){_vm.editInfos = true}}},[_vm._v(\"Modifier vos informations\")]):_vm._e(),(!_vm.editInfos && !_vm.editPass)?_c('b-button',{staticClass:\"mt-4\",attrs:{\"type\":\"button\",\"variant\":\"dark\"},on:{\"click\":function($event){_vm.editPass = true}}},[_vm._v(\"Modifier votre mot de passe\")]):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ValidationObserver\r\n    tag=\"div\"\r\n    ref=\"registerObserver\"\r\n    v-slot=\"{ handleSubmit }\">\r\n    <h2 class=\"text-center my-5 h4\">Vos informations personnelles</h2>\r\n    <div v-if=\"!editInfos && !editPass\">\r\n      <div class=\"d-flex align-items-center mb-4\">\r\n        <h3 class=\"h5 mr-4\">Pseudo</h3>\r\n        <p v-if=\"!editInfos\" class=\"m-0\">{{ userData.user_name }}</p>\r\n      </div>\r\n      <div class=\"d-flex align-items-center mb-4\">\r\n        <h3 class=\"h5 mr-4\">Email</h3>\r\n        <p v-if=\"!editInfos\" class=\"m-0\">{{ userData.email }}</p>\r\n      </div>\r\n      <div class=\"d-flex align-items-center mb-4\">\r\n        <h3 class=\"h5 mr-4\">Photo de profil</h3>\r\n          <b-img\r\n            :src=\"previewUrl\"\r\n            alt=\"Votre photo de profil\"\r\n            class=\"rounded-circle\"\r\n            width=\"100\"\r\n            height=\"100\"></b-img>\r\n      </div>\r\n      <div class=\"d-flex align-items-center\">\r\n        <h3 class=\"h5 mr-4\">Date de naissance</h3>\r\n        <p v-if=\"!editInfos\" class=\"m-0\">{{ userData.birthdate }}</p>\r\n      </div>\r\n    </div>\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <!-- ////////////////////////////////// INFOS FORM ////////////////////////////////// -->\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <b-form v-if=\"editInfos\" @submit.prevent=\"handleSubmit(handleUpdateInfos)\">\r\n<!-- ///////////////////////////////////EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"email\"\r\n        rules=\"email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userMail-group\"\r\n          label=\"Email :\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userMail\">\r\n          <b-form-input\r\n            v-model=\"user.email\"\r\n            id=\"userMail\"\r\n            type=\"text\"\r\n            :placeholder=\"userData.email\"\r\n            autofocus\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////USERNAME////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"pseudo\"\r\n        rules=\"alpha_num\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userName-group\"\r\n          label=\"Pseudo:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userName\">\r\n          <b-form-input\r\n            v-model=\"user.user_name\"\r\n            id=\"userName\"\r\n            type=\"text\"\r\n            :placeholder=\"userData.user_name\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////img////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"photo de profil\"\r\n        rules=\"image\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userImage-group\"\r\n          label=\"Photo de profil:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userImage\">\r\n          <b-form-file\r\n            v-if=\"editInfos\"\r\n            v-model=\"user.image_url\"\r\n            id=\"userImage\"\r\n            @change=\"showPreview($event)\"\r\n            browse-text=\"Parcourir\"\r\n            placeholder=\"Faites glisser ou sélectionnez une photo\"\r\n            accept=\"image/*\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-file>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-img\r\n          :src=\"previewUrl\"\r\n          alt=\"Votre photo de profil\"\r\n          width=\"300\"\r\n          height=\"300\"\r\n          fluid\r\n          class=\"d-block mx-auto\">\r\n        </b-img>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////PARENTS EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        v-if=\"editInfos && !userIsMajor\"\r\n        name=\"email des parents\"\r\n        rules=\"email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userParentMail-group\"\r\n          label=\"Email des responsables:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userParentMail\">\r\n          <b-form-input\r\n            v-model=\"user.parentEmail\"\r\n            id=\"userParentMail\"\r\n            type=\"email\"\r\n            :placeholder=\"userData.parentEmail\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n      </b-form-group>\r\n      </ValidationProvider>\r\n      <b-button\r\n        v-if=\"editInfos\"\r\n        type=\"button\"\r\n        variant=\"outline-danger\"\r\n        class=\"w-100 mt-4\"\r\n        @click=\"editInfos = false\">Annuler</b-button>\r\n      <b-button\r\n        v-if=\"editInfos\"\r\n        type=\"submit\"\r\n        variant=\"dark\"\r\n        class=\"w-100 mt-4\">Envoyer</b-button>\r\n    </b-form>\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <!-- ////////////////////////////////// PASSWORD FORM ////////////////////////////////// -->\r\n    <!-- ////////////////////////////////////////////////////////////////////////////////// -->\r\n    <b-form v-if=\"editPass\" @submit.prevent=\"handleSubmit(handleUpdatePassword)\">\r\n<!-- ///////////////////////////////////OLD PASSWORD////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"oldMdp\"\r\n        rules=\"required|strongPassword\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"oldUserPass-group\"\r\n          label=\"Ancien mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"oldUserPass\">\r\n          <b-form-input\r\n            id=\"oldUserPass\"\r\n            v-model=\"user.oldPassword\"\r\n            name=\"ancien mot de passe\"\r\n            type=\"password\"\r\n            trim\r\n            placeholder=\"*********************\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- //////////////////////////NEW PASSWORD//////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"newPassword\"\r\n        vid=\"mdp\"\r\n        rules=\"required|strongPassword\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"newUserPass-group\"\r\n          label=\"Nouveau mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"newUserPass\">\r\n          <b-form-input\r\n            id=\"newUserPass\"\r\n            v-model=\"user.newPassword\"\r\n            type=\"password\"\r\n            placeholder=\"*********************\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- //////////////////////////NEW PASSWORD CONFIRMATION//////////////////////////////// -->\r\n      <ValidationProvider\r\n        name=\"confirmation du nouveau mot de passe\"\r\n        rules=\"confirmed:mdp\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"userConfirmPass-group\"\r\n          label=\"Confirmation du mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-md=\"3\"\r\n          label-for=\"userConfirmPass\">\r\n          <b-form-input\r\n            id=\"userConfirmPass\"\r\n            v-model=\"user.confirmation\"\r\n            type=\"password\"\r\n            placeholder=\"*********************\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n      <b-button\r\n        type=\"button\"\r\n        variant=\"outline-danger\"\r\n        class=\"w-100 mt-4\"\r\n        @click=\"editPass = false\">Annuler</b-button>\r\n      <b-button\r\n        type=\"submit\"\r\n        variant=\"dark\"\r\n        class=\"w-100 mt-4\">Envoyer</b-button>\r\n    </b-form>\r\n      <b-button\r\n        v-if=\"!editInfos && !editPass\"\r\n        type=\"button\"\r\n        variant=\"dark\"\r\n        class=\"mt-4 mr-2\"\r\n        @click=\"editInfos = true\">Modifier vos informations</b-button>\r\n      <b-button\r\n        v-if=\"!editInfos && !editPass\"\r\n        type=\"button\"\r\n        variant=\"dark\"\r\n        class=\"mt-4\"\r\n        @click=\"editPass = true\">Modifier votre mot de passe</b-button>\r\n  </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate';\r\nimport dayjs from 'dayjs';\r\nimport RelativeTime from 'dayjs/plugin/relativeTime';\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\ndayjs.extend(RelativeTime);\r\n\r\nexport default {\r\n  name: 'UserForm',\r\n  props: [\r\n    'userData',\r\n  ],\r\n  data() {\r\n    return {\r\n      editInfos: false,\r\n      editPass: false,\r\n      previewUrl: null,\r\n      user: {\r\n        email: '',\r\n        user_name: '',\r\n        oldPassword: '',\r\n        newPassword: '',\r\n        confirmation: '',\r\n        image_url: null,\r\n        birthdate: '',\r\n        parentEmail: '',\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userId', 'oneUser']),\r\n    userIsMajor() {\r\n      const now = dayjs();\r\n      const birthdate = dayjs(this.userData.birthdate);\r\n      return now.diff(birthdate, 'year') >= 18;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'updateUser',\r\n      'updatePassword',\r\n    ]),\r\n    showPreview(e) {\r\n      const file = e.target.files[0];\r\n      this.previewUrl = URL.createObjectURL(file);\r\n    },\r\n    handleUpdateInfos() {\r\n      const data = new FormData();\r\n      data.append('email', this.user.email);\r\n      data.append('user_name', this.user.user_name);\r\n      if (this.user.image_url) data.append('image_url', this.user.image_url);\r\n      this.updateUser({\r\n        id: this.userId,\r\n        data,\r\n      })\r\n        .then(() => {\r\n          this.editInfos = false;\r\n        });\r\n    },\r\n    handleUpdatePassword() {\r\n      const requestBody = {\r\n        oldPassword: this.user.oldPassword,\r\n        newPassword: this.user.confirmation,\r\n      };\r\n      this.updatePassword({ id: this.userId, requestBody })\r\n        .then(() => {\r\n          this.editPass = false;\r\n          this.user.oldPassword = '';\r\n          this.user.newPassword = '';\r\n          this.user.confirmation = '';\r\n        })\r\n        .catch((error) => {\r\n          // If some known errors are send by the back end, display them in the UI\r\n          switch (error) {\r\n            case 'Wrong password':\r\n              this.$refs.registerObserver.setErrors({\r\n                oldMdp: ['Mot de passe invalide'],\r\n              });\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          // for errors that aren't known, display in the console\r\n          return console.error(error);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.user = {\r\n      ...this.userData,\r\n      image_url: null,\r\n    };\r\n    this.previewUrl = this.userData.image_url;\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserForm.vue?vue&type=template&id=4746c29c&\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <main id=\"PersonalAccount\">\r\n    <h1 class=\"h2 text-center mb-4 sr-only\">Vos données personnelles</h1>\r\n    <b-tabs\r\n      content-class=\"p-md-5\"\r\n      pills\r\n      fill>\r\n      <!-- Subjects -->\r\n      <b-tab\r\n        title=\"Sujets\">\r\n        <h2 class=\"h4 my-5\">Vous suivez ces sujets</h2>\r\n        <b-list-group\r\n          flush>\r\n          <Subject\r\n            v-for=\"subject in allFollows\"\r\n            :key=\"subject.id\"\r\n            :subject=\"subject\" />\r\n          <b-button\r\n            v-if=\"!showAllSubjects\"\r\n            @click=\"showMoreSubjects()\"\r\n            class=\"mt-4\"\r\n            variant=\"outline-dark\">Voir tous les sujets</b-button>\r\n          <Subject\r\n            v-else\r\n            v-for=\"subject in subjectsNotFollowed\"\r\n            :key=\"subject.id\"\r\n            :subject=\"subject\" />\r\n        </b-list-group>\r\n      </b-tab>\r\n      <!-- Profile -->\r\n      <b-tab title=\"Profile\" lazy>\r\n        <UserForm :userData=\"oneUser\" />\r\n      </b-tab>\r\n      <!-- Privacy -->\r\n      <b-tab title=\"Privacy\">\r\n        <b-form @submit.prevent=\"handleUpdateRgpd()\" class=\"mt-4\">\r\n          <!-- <b-form-group description=\"rgpd\"> -->\r\n            <b-row>\r\n              <b-col\r\n                cols=\"12\"\r\n                class=\"d-flex align-items-center flex-row-reverse justify-content-end\">\r\n                <label\r\n                  for=\"restricted\"\r\n                  class=\"ml-2 my-0\">\r\n                  Restreindre l'utilisation de mes données</label>\r\n                <input\r\n                  v-model=\"rgpdCheckboxes.restricted\"\r\n                  @change=\"updateSuccess = false\"\r\n                  id=\"restricted\"\r\n                  type=\"checkbox\">\r\n              </b-col>\r\n              <b-col\r\n                cols=\"12\"\r\n                class=\"d-flex align-items-center flex-row-reverse justify-content-end\">\r\n                <label\r\n                  for=\"contactable\"\r\n                  class=\"ml-2 my-0\">\r\n                  Etre contacté par des partenaires commerciaux</label>\r\n                <input\r\n                  v-model=\"rgpdCheckboxes.contactable\"\r\n                  @change=\"updateSuccess = false\"\r\n                  id=\"contactable\"\r\n                  type=\"checkbox\">\r\n              </b-col>\r\n              <b-col\r\n                cols=\"12\"\r\n                class=\"d-flex align-items-center flex-row-reverse justify-content-end\">\r\n                <label\r\n                  for=\"shareWithPartners\"\r\n                  class=\"ml-2 my-0\">\r\n                  Accepter que les données soient transmises a des partenaires</label>\r\n                <input\r\n                  v-model=\"rgpdCheckboxes.shareWithPartners\"\r\n                  @change=\"updateSuccess = false\"\r\n                  id=\"shareWithPartners\"\r\n                  type=\"checkbox\">\r\n              </b-col>\r\n            </b-row>\r\n          <!-- </b-form-group> -->\r\n          <p v-if=\"updateSuccess\" class=\"text-success mt-2 mb-0\">\r\n            Les modifications ont bien été prises en compte\r\n          </p>\r\n          <b-button\r\n            id=\"submitRgpd\"\r\n            type=\"submit\"\r\n            variant=\"dark\"\r\n            class=\"my-3\">Envoyer</b-button>\r\n        </b-form>\r\n        <b-button\r\n          v-b-modal.supressAccount\r\n          type=\"button\"\r\n          class=\"text-left\"\r\n          variant=\"link\">\r\n          Supprimer mon compte\r\n        </b-button>\r\n          <b-modal\r\n            id=\"supressAccount\"\r\n            title=\"BootstrapVue\"\r\n            centered\r\n            hide-header\r\n            hide-footer\r\n            body-class=\"p-4 d-flex flex-column align-items-center\">\r\n            <p class=\"my-4 text-center\">\r\n              Vous êtes sur le point de supprimer votre compte de manière\r\n              définitive.\r\n            </p>\r\n            <b-button\r\n              @click=\"handleDelete()\"\r\n              variant=\"dark\"\r\n              class=\"w-100 mb-2\">\r\n              Supprimer votre compte\r\n            </b-button>\r\n            <b-button\r\n              @click=\"$bvModal.hide('supressAccount')\"\r\n              variant=\"outline-danger\"\r\n              class=\"w-100\">\r\n              Annuler\r\n            </b-button>\r\n          </b-modal>\r\n        <b-button\r\n          @click=\"handleExport()\"\r\n          type=\"button\"\r\n          class=\"text-left\"\r\n          variant=\"link\">\r\n          Télécharger les données de votre compte\r\n        </b-button>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport Subject from '@/components/Subject.vue';\r\nimport UserForm from '@/components/UserForm.vue';\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'PersonalAccount',\r\n  components: {\r\n    Subject,\r\n    UserForm,\r\n  },\r\n  data() {\r\n    return {\r\n      showAllSubjects: false,\r\n      rgpdCheckboxes: {\r\n        restricted: '',\r\n        contactable: '',\r\n        shareWithPartners: '',\r\n      },\r\n      updateSuccess: false,\r\n      exportedDataURL: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['oneUser', 'userId', 'allSubjects', 'allFollows']),\r\n    subjectsNotFollowed() {\r\n      const followsId = this.allFollows.map((follow) => follow.id);\r\n      return this.allSubjects.filter((subject) => !followsId.includes(subject.id));\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'fetchUser',\r\n      'fetchAllSubjects',\r\n      'getFollows',\r\n      'updateUser',\r\n      'deleteUser',\r\n      'logout',\r\n      'exportUser']),\r\n    showMoreSubjects() {\r\n      this.showAllSubjects = true;\r\n      this.fetchAllSubjects();\r\n    },\r\n    handleUpdateRgpd() {\r\n      this.updateSuccess = false;\r\n      this.updateUser({\r\n        id: this.userId,\r\n        data: this.rgpdCheckboxes,\r\n      })\r\n        .then(() => {\r\n          this.updateSuccess = true;\r\n        });\r\n    },\r\n    handleDelete() {\r\n      this.deleteUser(this.userId)\r\n        .then(() => {\r\n          this.logout();\r\n        });\r\n    },\r\n    handleExport() {\r\n      this.exportUser(this.userId)\r\n        .then((response) => {\r\n          const exportedDataURL = window.URL.createObjectURL(new Blob([response.data]));\r\n          const fileLink = document.createElement('a');\r\n          fileLink.href = exportedDataURL;\r\n          fileLink.setAttribute('download', 'file.pdf');\r\n          document.body.appendChild(fileLink);\r\n          fileLink.click();\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getFollows(this.userId);\r\n    this.fetchUser(this.userId)\r\n      .then(() => {\r\n        this.rgpdCheckboxes.restricted = this.oneUser.restricted;\r\n        this.rgpdCheckboxes.contactable = this.oneUser.contactable;\r\n        this.rgpdCheckboxes.shareWithPartners = this.oneUser.shareWithPartners;\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonalAccount.vue?vue&type=template&id=3ee145fe&\"\nimport script from \"./PersonalAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonalAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUser.vue?vue&type=style&index=0&id=ce313674&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"full-height d-flex flex-column justify-content-center\"},[_c('h1',{staticClass:\"sr-only\"},[_vm._v(\"Inscription et connexion\")]),_c('b-img',{staticClass:\"mx-auto mb-5\",attrs:{\"src\":require('../assets/img/icon-above-font.png'),\"alt\":\"Logo de groupomania\",\"fluid\":\"\",\"width\":\"450\"}}),_c('b-row',[_c('b-col',{staticClass:\"mx-auto p-4 shadow rounded\",attrs:{\"cols\":\"12\",\"sm\":\"10\",\"md\":\"8\",\"lg\":\"6\"}},[_c('h2',{staticClass:\"sr-only\"},[_vm._v(\"Connexion\")]),_c('Login',{on:{\"isLogged\":function($event){return _vm.$bvModal.show('subjectSuggest')}}})],1),_c('b-modal',{attrs:{\"aria-label\":\"Formulaire de création d'utilisateur\",\"id\":\"signupForm\",\"size\":\"lg\",\"centered\":\"\",\"hide-header\":\"\",\"hide-footer\":\"\",\"body-class\":\"p-4\"}},[_c('Signup',{on:{\"isLogged\":function($event){return _vm.$bvModal.show('subjectSuggest')}}})],1),_c('b-modal',{attrs:{\"id\":\"subjectSuggest\",\"lazy\":\"\",\"centered\":\"\",\"size\":\"lg\",\"hide-header\":\"\",\"hide-footer\":\"\",\"body-class\":\"p-5\"}},[_c('SubjectSuggest')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{ref:\"registerObserver\",attrs:{\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('h2',{staticClass:\"text-center mb-4\"},[_vm._v(\"Rejoignez nous\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.handleRegister)}}},[_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"registerMail-group\",\"label\":\"Email :\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerMail\"}},[_c('b-form-input',{attrs:{\"id\":\"registerMail\",\"type\":\"text\",\"placeholder\":\"john@mail.com\",\"autofocus\":\"\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.signup.email),callback:function ($$v) {_vm.$set(_vm.signup, \"email\", $$v)},expression:\"signup.email\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"pseudo\",\"rules\":\"required|alpha_num\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"registerName-group\",\"label\":\"Pseudo:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerName\"}},[_c('b-form-input',{attrs:{\"id\":\"registerName\",\"type\":\"text\",\"placeholder\":\"John Doe\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.signup.user_name),callback:function ($$v) {_vm.$set(_vm.signup, \"user_name\", $$v)},expression:\"signup.user_name\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"mot de passe\",\"vid\":\"mdp\",\"rules\":\"required|min:8|max:16|strongPassword\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"registerPass-group\",\"label\":\"Mot de passe:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerPass\"}},[_c('b-form-input',{attrs:{\"id\":\"registerPass\",\"type\":\"password\",\"trim\":\"\",\"placeholder\":\"*********************\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.signup.password),callback:function ($$v) {_vm.$set(_vm.signup, \"password\", $$v)},expression:\"signup.password\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"confirmation\",\"rules\":\"required|confirmed:mdp\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"registerConfirmPass-group\",\"label\":\"Confirmation du mot de passe:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerConfirmPass\"}},[_c('b-form-input',{attrs:{\"id\":\"registerConfirmPass\",\"type\":\"password\",\"placeholder\":\"*********************\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.signup.confirmation),callback:function ($$v) {_vm.$set(_vm.signup, \"confirmation\", $$v)},expression:\"signup.confirmation\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"photo de profil\",\"rules\":\"image\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"d-flex align-items-center\",attrs:{\"id\":\"registerImage-group\",\"label\":\"Photo de profil:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerImage\"}},[_c('b-form-file',{staticClass:\" flex-grow-1\",attrs:{\"id\":\"registerImage\",\"browse-text\":\"Parcourir\",\"placeholder\":\"Faites glisser ou sélectionnez une photo\",\"drop-placeholder\":\"Déposez ici...\",\"accept\":\"image/*\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.signup.image_url),callback:function ($$v) {_vm.$set(_vm.signup, \"image_url\", $$v)},expression:\"signup.image_url\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"date de naissance\",\"rules\":\"required|isDate|isPast\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"registerBirthdate-group\",\"label\":\"Date de naissance:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerBirthdate\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.signup.birthdate),expression:\"signup.birthdate\"}],staticClass:\"form-control\",class:{ 'is-invalid' : errors[0], 'is-valid' : valid},attrs:{\"id\":\"registerBirthdate\",\"type\":\"date\"},domProps:{\"value\":(_vm.signup.birthdate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.signup, \"birthdate\", $event.target.value)}}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"email des parents\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userIsMajor),expression:\"userIsMajor\"}],staticClass:\"align-items-center\",attrs:{\"id\":\"registerParentMail-group\",\"label\":\"Email des responsables:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"registerParentMail\"}},[_c('b-form-input',{attrs:{\"id\":\"registerParentMail\",\"type\":\"email\",\"placeholder\":\"parents@mail.com\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.signup.parentEmail),callback:function ($$v) {_vm.$set(_vm.signup, \"parentEmail\", $$v)},expression:\"signup.parentEmail\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('div',{staticClass:\"row\"},[_c('label',{staticClass:\"col-12 col-lg-3 col-form-label\"},[_vm._v(\"RGPD\")]),_c('div',{staticClass:\"col-12 col-lg-9\"},[_c('p',{staticClass:\"sr-only\"},[_vm._v(\"Voici un ensemble de cases à cocher pour nous permettre de respecter au mieux vos données d'utilisation.\")]),_c('b-form-checkbox',{staticClass:\"mb-2\",model:{value:(_vm.signup.restricted),callback:function ($$v) {_vm.$set(_vm.signup, \"restricted\", $$v)},expression:\"signup.restricted\"}},[_vm._v(\" Restreindre l'usage de vos données \")]),_c('b-form-checkbox',{staticClass:\"mb-2\",model:{value:(_vm.signup.shareWithPartners),callback:function ($$v) {_vm.$set(_vm.signup, \"shareWithPartners\", $$v)},expression:\"signup.shareWithPartners\"}},[_vm._v(\" Partage de vos données avec nos partenaires \")]),_c('b-form-checkbox',{staticClass:\"mb-2\",model:{value:(_vm.signup.contactable),callback:function ($$v) {_vm.$set(_vm.signup, \"contactable\", $$v)},expression:\"signup.contactable\"}},[_vm._v(\" Recevoir des offres de nos partenaires \")])],1)]),_c('b-button',{staticClass:\"w-100 mt-4\",attrs:{\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Suivant\")])],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- ////////////////////////////////////////////////////////////////////////////////////// -->\r\n<!-- ///////////////////////////////////REGISTER FORM////////////////////////////////////// -->\r\n<!-- ////////////////////////////////////////////////////////////////////////////////////// -->\r\n  <ValidationObserver\r\n    tag=\"div\"\r\n    ref=\"registerObserver\"\r\n    v-slot=\"{ handleSubmit }\">\r\n    <h2 class=\"text-center mb-4\">Rejoignez nous</h2>\r\n    <b-form @submit.prevent=\"handleSubmit(handleRegister)\">\r\n<!-- ///////////////////////////////////EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"email\"\r\n        rules=\"required|email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerMail-group\"\r\n          label=\"Email :\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerMail\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            v-model=\"signup.email\"\r\n            id=\"registerMail\"\r\n            type=\"text\"\r\n            placeholder=\"john@mail.com\"\r\n            autofocus\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////USERNAME////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"pseudo\"\r\n        rules=\"required|alpha_num\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerName-group\"\r\n          label=\"Pseudo:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerName\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            v-model=\"signup.user_name\"\r\n            id=\"registerName\"\r\n            type=\"text\"\r\n            placeholder=\"John Doe\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////PASSWORD////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"mot de passe\"\r\n        vid=\"mdp\"\r\n        rules=\"required|min:8|max:16|strongPassword\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerPass-group\"\r\n          label=\"Mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerPass\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            id=\"registerPass\"\r\n            v-model=\"signup.password\"\r\n            type=\"password\"\r\n            trim\r\n            placeholder=\"*********************\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- //////////////////////////PASSWORD CONFIRMATION//////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"confirmation\"\r\n        rules=\"required|confirmed:mdp\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerConfirmPass-group\"\r\n          label=\"Confirmation du mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerConfirmPass\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            id=\"registerConfirmPass\"\r\n            v-model=\"signup.confirmation\"\r\n            type=\"password\"\r\n            placeholder=\"*********************\"\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////img////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"photo de profil\"\r\n        rules=\"image\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerImage-group\"\r\n          label=\"Photo de profil:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerImage\"\r\n          class=\"d-flex align-items-center\">\r\n          <b-form-file\r\n            v-model=\"signup.image_url\"\r\n            id=\"registerImage\"\r\n            browse-text=\"Parcourir\"\r\n            placeholder=\"Faites glisser ou sélectionnez une photo\"\r\n            drop-placeholder=\"Déposez ici...\"\r\n            accept=\"image/*\"\r\n            class=\" flex-grow-1\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-file>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////BIRTHDATE////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"date de naissance\"\r\n        rules=\"required|isDate|isPast\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerBirthdate-group\"\r\n          label=\"Date de naissance:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerBirthdate\"\r\n          class=\"align-items-center\">\r\n          <input\r\n            id=\"registerBirthdate\"\r\n            type=\"date\"\r\n            v-model=\"signup.birthdate\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid' : errors[0], 'is-valid' : valid}\">\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////PARENTS EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"email des parents\"\r\n        rules=\"email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"registerParentMail-group\"\r\n          label=\"Email des responsables:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"registerParentMail\"\r\n          v-show=\"userIsMajor\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            v-model=\"signup.parentEmail\"\r\n            id=\"registerParentMail\"\r\n            type=\"email\"\r\n            placeholder=\"parents@mail.com\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n      </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////RGPD////////////////////////////////////// -->\r\n      <div class=\"row\">\r\n        <label class=\"col-12 col-lg-3 col-form-label\">RGPD</label>\r\n        <div class=\"col-12 col-lg-9\">\r\n          <p class=\"sr-only\">Voici un ensemble de cases à cocher pour nous permettre de respecter au mieux vos données d'utilisation.</p>\r\n          <b-form-checkbox\r\n            v-model=\"signup.restricted\"\r\n            class=\"mb-2\">\r\n            Restreindre l'usage de vos données\r\n          </b-form-checkbox>\r\n          <b-form-checkbox\r\n            v-model=\"signup.shareWithPartners\"\r\n            class=\"mb-2\">\r\n            Partage de vos données avec nos partenaires\r\n          </b-form-checkbox>\r\n          <b-form-checkbox\r\n            v-model=\"signup.contactable\"\r\n            class=\"mb-2\">\r\n            Recevoir des offres de nos partenaires\r\n          </b-form-checkbox>\r\n        </div>\r\n      </div>\r\n      <b-button\r\n        type=\"submit\"\r\n        variant=\"dark\"\r\n        class=\"w-100 mt-4\">Suivant</b-button>\r\n    </b-form>\r\n  </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex';\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate';\r\nimport dayjs from 'dayjs';\r\nimport RelativeTime from 'dayjs/plugin/relativeTime';\r\n\r\ndayjs.extend(RelativeTime);\r\n\r\nexport default {\r\n  name: 'Signup',\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  data() {\r\n    return {\r\n      signup: {\r\n        user_name: '',\r\n        email: '',\r\n        password: '',\r\n        confirmation: '',\r\n        image_url: null,\r\n        birthdate: '',\r\n        parentEmail: null,\r\n        restricted: true,\r\n        shareWithPartners: false,\r\n        contactable: false,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    userIsMajor() {\r\n      const now = dayjs();\r\n      const birthdate = dayjs(this.signup.birthdate);\r\n      return now.diff(birthdate, 'year') <= 18;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(['register', 'login']),\r\n    handleRegister() {\r\n      // Create a formData\r\n      const user = new FormData();\r\n      // Append only no-nule values in the formdata\r\n      Object.entries(this.signup).forEach(([key, value]) => {\r\n        if (value !== null) {\r\n          return user.append(`${key}`, value);\r\n        }\r\n        return '';\r\n      });\r\n      // Call the register function with the formdata in arg\r\n      this.register(user)\r\n        .then(() => {\r\n          // if the register succeed, log the user\r\n          const newUser = {\r\n            email: this.signup.email,\r\n            password: this.signup.password,\r\n          };\r\n          this.login(newUser)\r\n            .then(() => {\r\n              // if the user is logged , refresh the page\r\n              this.$emit('isLogged');\r\n            });\r\n        })\r\n        .catch((error) => {\r\n          // If some known errors are send by the back end, display them in the UI\r\n          switch (error) {\r\n            case 'user.user_name must be unique':\r\n              this.$refs.registerObserver.setErrors({\r\n                pseudo: ['Ce pseudo est déjà utilisé'],\r\n              });\r\n              break;\r\n            case 'user.email must be unique':\r\n              this.$refs.registerObserver.setErrors({\r\n                email: ['Cet email est déjà utilisé'],\r\n              });\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          // for errors that aren't known, display in the console\r\n          return console.error(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=29c24fd2&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{ref:\"loginObserver\",attrs:{\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.handleLogin)}}},[_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"loginMail-group\",\"label\":\"Email :\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"loginMail\"}},[_c('b-form-input',{attrs:{\"id\":\"loginMail\",\"type\":\"text\",\"placeholder\":\"john@mail.com\",\"autofocus\":\"\",\"trim\":\"\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"assertive\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('ValidationProvider',{attrs:{\"tag\":\"div\",\"name\":\"mot de passe\",\"vid\":\"mdp\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-group',{staticClass:\"align-items-center\",attrs:{\"id\":\"loginPass-group\",\"label\":\"Mot de passe:\",\"label-cols\":\"12\",\"label-cols-lg\":\"3\",\"label-for\":\"loginPass\"}},[_c('b-form-input',{attrs:{\"id\":\"loginPass\",\"type\":\"password\",\"trim\":\"\",\"placeholder\":\"*********************\",\"state\":errors[0] ? false : (valid ? true : null)},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('b-form-invalid-feedback',{attrs:{\"aria-live\":\"polite\"}},[_vm._v(\" \"+_vm._s(errors[0])+\" \")])],1)]}}],null,true)}),_c('b-button',{staticClass:\"w-100\",attrs:{\"type\":\"submit\",\"variant\":\"outline-dark\"}},[_vm._v(\" Se connecter \")]),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.signupForm\",modifiers:{\"signupForm\":true}}],staticClass:\"w-100 my-3\",attrs:{\"variant\":\"dark\"}},[_vm._v(\" Créer un compte \")])],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- ////////////////////////////////////////////////////////////////////////////////////// -->\r\n<!-- ///////////////////////////////////LOGIN FORM////////////////////////////////////// -->\r\n<!-- ////////////////////////////////////////////////////////////////////////////////////// -->\r\n  <ValidationObserver\r\n    tag=\"div\"\r\n    ref=\"loginObserver\"\r\n    v-slot=\"{ handleSubmit }\">\r\n    <b-form @submit.prevent=\"handleSubmit(handleLogin)\">\r\n<!-- ///////////////////////////////////EMAIL////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"email\"\r\n        rules=\"required|email\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"loginMail-group\"\r\n          label=\"Email :\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"loginMail\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            v-model=\"user.email\"\r\n            id=\"loginMail\"\r\n            type=\"text\"\r\n            placeholder=\"john@mail.com\"\r\n            autofocus\r\n            trim\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"assertive\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n<!-- ///////////////////////////////////PASSWORD////////////////////////////////////// -->\r\n      <ValidationProvider\r\n        tag=\"div\"\r\n        name=\"mot de passe\"\r\n        vid=\"mdp\"\r\n        rules=\"required\"\r\n        v-slot=\"{ valid, errors }\">\r\n        <b-form-group\r\n          id=\"loginPass-group\"\r\n          label=\"Mot de passe:\"\r\n          label-cols=\"12\"\r\n          label-cols-lg=\"3\"\r\n          label-for=\"loginPass\"\r\n          class=\"align-items-center\">\r\n          <b-form-input\r\n            id=\"loginPass\"\r\n            v-model=\"user.password\"\r\n            type=\"password\"\r\n            trim\r\n            placeholder=\"*********************\"\r\n            :state=\"errors[0] ? false : (valid ? true : null)\">\r\n          </b-form-input>\r\n          <b-form-invalid-feedback\r\n            aria-live=\"polite\">\r\n            {{ errors[0] }}\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n      </ValidationProvider>\r\n      <b-button\r\n        type=\"submit\"\r\n        variant=\"outline-dark\"\r\n        class=\"w-100\">\r\n        Se connecter\r\n      </b-button>\r\n      <b-button\r\n        v-b-modal.signupForm\r\n        variant=\"dark\"\r\n        class=\"w-100 my-3\">\r\n        Créer un compte\r\n      </b-button>\r\n    </b-form>\r\n  </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate';\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  data() {\r\n    return {\r\n      user: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isFollowing', 'userId']),\r\n  },\r\n  methods: {\r\n    ...mapActions(['register', 'login', 'getFollows']),\r\n    handleLogin() {\r\n      let user = {};\r\n      if (this.user.email && this.user.password) {\r\n        user = { ...this.user };\r\n      }\r\n      this.login(user)\r\n        .then(() => {\r\n          this.getFollows(this.userId)\r\n            .then(() => {\r\n              if (this.isFollowing) {\r\n                document.location.reload();\r\n              } else {\r\n                this.$emit('isLogged');\r\n              }\r\n            });\r\n        })\r\n        .catch((error) => {\r\n        // If some known errors are send by the back end, display them in the UI\r\n          switch (error) {\r\n            case 'Wrong password':\r\n              this.$refs.loginObserver.setErrors({\r\n                mdp: ['Mot de passe incorrect'],\r\n              });\r\n              break;\r\n            case 'User not found':\r\n              this.$refs.loginObserver.setErrors({\r\n                email: ['Email incorrect'],\r\n              });\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          // for errors that aren't known, display in the console\r\n          return console.error(error);\r\n        });\r\n    },\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=47adc77e&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"shadow rounded-lg p-4 p-lg-5\",attrs:{\"id\":\"SubjectSuggest\"}},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h2',[_vm._v(\"Bonjour \")]),_c('p',{staticClass:\"text-break\"},[_vm._v(\"Vous ne suivez actuellement aucun sujet de conversation, nous vous proposons une selection de sujets qui pourraient vous correspondre.\")]),_c('p',{staticClass:\"mb-0 text-break\"},[_vm._v(\"Selectionnez en au moins 3 pour commencer à remplir votre fil de posts et voir ce que vos collègues ont à dire !\")])]),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-row',{staticClass:\"col-12 mx-auto my-5\",attrs:{\"tag\":\"div\",\"cols\":\"1\"}},_vm._l((_vm.allSubjects),function(subject,index){return _c('subject',{key:index,attrs:{\"subject\":subject}})}),1),_c('b-button',{attrs:{\"disabled\":!_vm.isFollowing,\"variant\":\"success\"},on:{\"click\":function($event){return _vm.refresh()}}},[_vm._v(\" Continuer \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row id=\"SubjectSuggest\" class=\"shadow rounded-lg p-4 p-lg-5\">\r\n    <b-col cols=\"12\">\r\n      <h2>Bonjour </h2>\r\n      <p class=\"text-break\">Vous ne suivez actuellement aucun sujet de conversation,\r\n        nous vous proposons une selection de sujets qui pourraient vous correspondre.</p>\r\n      <p class=\"mb-0 text-break\">Selectionnez en au moins 3 pour commencer à remplir votre fil de posts\r\n        et voir ce que vos collègues ont à dire !</p>\r\n    </b-col>\r\n    <b-col cols=\"12\">\r\n      <b-row\r\n        tag=\"div\"\r\n        cols=\"1\"\r\n        class=\"col-12 mx-auto my-5\">\r\n        <subject\r\n          v-for=\"(subject, index) in allSubjects\"\r\n          :key=\"index\"\r\n          :subject=\"subject\">\r\n        </subject>\r\n      </b-row>\r\n      <b-button\r\n        :disabled=\"!isFollowing\"\r\n        @click=\"refresh()\"\r\n        variant=\"success\">\r\n        Continuer\r\n      </b-button>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport Subject from '@/components/Subject.vue';\r\nimport { mapGetters, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  name: 'SubjectSuggest',\r\n  components: {\r\n    Subject,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['allSubjects', 'isFollowing']),\r\n  },\r\n  methods: {\r\n    ...mapActions(['fetchAllSubjects']),\r\n    refresh() {\r\n      document.location.reload();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchAllSubjects();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.suggest {\r\n  background: transparent;\r\n  border: 1px solid orange;\r\n  list-style-type: none;\r\n  text-align: center;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  margin-bottom: 2%;\r\n}\r\n.suggest:hover,\r\n.active{\r\n  cursor: pointer;\r\n  background: orange;\r\n  color: white;\r\n  transition: all 0.3s;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubjectSuggest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubjectSuggest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubjectSuggest.vue?vue&type=template&id=0096873c&scoped=true&\"\nimport script from \"./SubjectSuggest.vue?vue&type=script&lang=js&\"\nexport * from \"./SubjectSuggest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubjectSuggest.vue?vue&type=style&index=0&id=0096873c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0096873c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <main class=\"full-height d-flex flex-column justify-content-center\">\r\n      <h1 class=\"sr-only\">Inscription et connexion</h1>\r\n      <b-img\r\n        :src=\"require('../assets/img/icon-above-font.png')\"\r\n        alt=\"Logo de groupomania\"\r\n        fluid\r\n        width=\"450\"\r\n        class=\"mx-auto mb-5\">\r\n      </b-img>\r\n      <b-row>\r\n        <b-col cols=\"12\" sm=\"10\" md=\"8\" lg=\"6\" class=\"mx-auto p-4 shadow rounded\">\r\n          <h2 class=\"sr-only\">Connexion</h2>\r\n          <Login @isLogged=\"$bvModal.show('subjectSuggest')\" />\r\n        </b-col>\r\n        <b-modal\r\n          aria-label=\"Formulaire de création d'utilisateur\"\r\n          id=\"signupForm\"\r\n          size=\"lg\"\r\n          centered\r\n          hide-header\r\n          hide-footer\r\n          body-class=\"p-4\">\r\n          <Signup @isLogged=\"$bvModal.show('subjectSuggest')\" />\r\n        </b-modal>\r\n        <b-modal\r\n          id=\"subjectSuggest\"\r\n          lazy\r\n          centered\r\n          size=\"lg\"\r\n          hide-header\r\n          hide-footer\r\n          body-class=\"p-5\">\r\n          <SubjectSuggest />\r\n        </b-modal>\r\n      </b-row>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport Signup from '@/components/Register/Signup.vue';\r\nimport Login from '@/components/Register/Login.vue';\r\nimport SubjectSuggest from '@/components/SubjectSuggest.vue';\r\n\r\nexport default {\r\n  name: 'Register',\r\n  components: {\r\n    Signup,\r\n    Login,\r\n    SubjectSuggest,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['loggedUser', 'allFollows']),\r\n    loggedIn() {\r\n      return this.loggedUser.status.loggedIn;\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.loggedIn) {\r\n      this.$router.push({ name: 'Home' });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.full-height {\r\n  height: 85vh;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=0e65f858&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=0e65f858&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e65f858\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","module.exports = __webpack_public_path__ + \"img/icon-above-font.571187b7.png\";","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=12b8a5ea&scoped=true&lang=css&\""],"sourceRoot":""}