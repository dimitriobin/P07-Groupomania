'use strict'
const router = require('express').Router();
const auth = require('../middlewares/auth');

const { createOneSubject,
        readAllSubjects,
        readOneSubject,
        updateOneSubject,
        deleteOneSubject,
        followSubject,
        readAllFollowsByUser,
        unFollowSubject } = require ('../controllers/subjects');

/////////////////////////////////////////////
// CREATE ONE Subject
/////////////////////////////////////////////
router.post('/', auth, createOneSubject);

/////////////////////////////////////////////
// READ ALL Subjects
/////////////////////////////////////////////
router.get('/', auth, readAllSubjects);


/////////////////////////////////////////////
// READ ONE Subject
/////////////////////////////////////////////
router.get('/:id', auth, readOneSubject);


/////////////////////////////////////////////
// UPDATE ONE Subject
/////////////////////////////////////////////
router.put('/:id', auth, updateOneSubject);


/////////////////////////////////////////////
// DELETE ONE Subject
/////////////////////////////////////////////
router.delete('/:id', auth, deleteOneSubject);


/////////////////////////////////////////////
// Create a follow
/////////////////////////////////////////////
router.post('/:id/follow', auth, followSubject);


/////////////////////////////////////////////
// Read all follows for one user
/////////////////////////////////////////////
router.get('/:id/follow', auth, readAllFollowsByUser);


/////////////////////////////////////////////
// Delete one follow = unfollow
/////////////////////////////////////////////
router.delete('/:id/unfollow', auth, unFollowSubject)




module.exports = router;